{
  "version": 3,
  "sources": [
    "../../../AppData/Roaming/npm/node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "out/dom/align.js",
    "out/dom/animate.js",
    "out/dom/css.js",
    "out/dom/draggable.js",
    "out/dom/file.js",
    "out/dom/index.js",
    "out/dom/mouse-leave.js",
    "out/dom/node.js",
    "out/dom/pan.js",
    "out/dom/query.js",
    "out/dom/scroll.js",
    "out/dom/storage.js",
    "out/dom/util.js",
    "out/dom/watch.js",
    "out/index.js",
    "out/lib/array.js",
    "out/lib/date.js",
    "out/lib/duration.js",
    "out/lib/emitter.js",
    "out/lib/es-polyfill.js",
    "out/lib/function.js",
    "out/lib/index.js",
    "out/lib/number.js",
    "out/lib/object.js",
    "out/lib/queue.js",
    "out/lib/string.js",
    "out/lib/time.js",
    "test/dom/src/align.test.ts",
    "test/dom/src/animate.test.ts",
    "test/dom/src/css.test.ts",
    "test/dom/src/draggable.test.ts",
    "test/dom/src/helper.ts",
    "test/dom/src/mouse-leave.test.ts",
    "test/dom/src/node.test.ts",
    "test/dom/src/query.test.ts",
    "test/dom/src/scroll.test.ts",
    "test/dom/src/storage.test.ts",
    "test/dom/src/watch.test.ts"
  ],
  "names": [],
  "mappings": "AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst css_1 = require(\"./css\");\r\nconst node_1 = require(\"./node\");\r\nconst util_1 = require(\"./util\");\r\n/**\r\n * Align element to target element by specified position.\r\n * Note that this mathod will always cause reflow.\r\n * @param el The element to align, it's position should be fixed or absolute.\r\n * @param target The target element to align to.\r\n * @param position The position that aligning according to, `[Y of el][X of el]-[Y of target][X of target]` or `[Touch][Align]` or `[Touch]`.\r\n * @param options Additional options.\r\n */\r\nfunction align(el, target, position, options = {}) {\r\n    new Aligner(el, target, position, options).align();\r\n}\r\nexports.align = align;\r\nclass Aligner {\r\n    constructor(el, target, position, options = {}) {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.el = el;\r\n        this.target = target;\r\n        this.trangle = options.trangle || null;\r\n        this.position = this.parseAlignPosition(position);\r\n        this.canShrinkInY = !!options.canShrinkInY;\r\n        this.direction = this.getDirection();\r\n        this.margin = this.parseMargin(options.margin || 0);\r\n        this.targetRect = this.getExtendedRectFromMargin();\r\n        this.w = this.el.offsetWidth;\r\n        if (this.canShrinkInY) {\r\n            this.h = this.getNaturalHeight();\r\n        }\r\n        else {\r\n            this.h = this.el.offsetHeight;\r\n        }\r\n    }\r\n    align() {\r\n        if (util_1.getClosestFixedElement(this.target)) {\r\n            css_1.setStyle(this.el, 'position', 'fixed');\r\n        }\r\n        let anchor1 = this.getFixedAnchor(this.w, this.h, this.position[0]);\r\n        let anchor2 = this.getAbsoluteAnchor(this.targetRect, this.position[1]);\r\n        this.y = anchor2[1] - anchor1[1];\r\n        let overflowYSet = this.alignVertical();\r\n        // If scrollbar appeared, width of el may change\r\n        if (overflowYSet) {\r\n            this.w = this.el.offsetWidth;\r\n            anchor1 = this.getFixedAnchor(this.w, this.h, this.position[0]);\r\n        }\r\n        this.x = anchor2[0] - anchor1[0];\r\n        this.alignHerizontal();\r\n        // Handle trangle position\r\n        if (this.trangle) {\r\n            this.alignTrangle();\r\n        }\r\n        // If is not fixed, minus coordinates relative to offsetParent\r\n        if (getComputedStyle(this.el).position !== 'fixed' && this.target !== document.body && this.target !== document.documentElement) {\r\n            var offsetParent = this.el.offsetParent;\r\n            if (offsetParent) {\r\n                var parentRect = offsetParent.getBoundingClientRect();\r\n                this.x -= parentRect.left + css_1.getNumeric(offsetParent, 'borderLeftWidth');\r\n                this.y -= parentRect.top + css_1.getNumeric(offsetParent, 'borderTopWidth');\r\n            }\r\n        }\r\n        css_1.setStyle(this.el, {\r\n            left: Math.round(this.x),\r\n            top: Math.round(this.y),\r\n        });\r\n    }\r\n    /**\r\n     * Full type is `[tbc][lrc]-[tbc][lrc]`, means `[Y of el][X of el]-[Y of target][X of target]`.\r\n     * Shorter type should be `[Touch][Align]` or `[Touch]`.\r\n     * E.g.: `t` is short for `tc` or `b-t` or `bc-tc`, which means align el to the top-center of target.\r\n     * E.g.: `tl` is short for `bl-tl`, which means align el to the top-left of target.\r\n     * E.g.: `lt` is short for `tr-tl`, which means align el to the left-top of target.\r\n     */\r\n    parseAlignPosition(position) {\r\n        const ALIGN_POS_OPPOSITE = {\r\n            t: 'b',\r\n            b: 't',\r\n            c: 'c',\r\n            l: 'r',\r\n            r: 'l',\r\n        };\r\n        if (!/^(?:[tbc][lrc]-[tbc][lrc]|[tbclr]-[tbclr]|[tbc][lrc]|[tbclr])/.test(position)) {\r\n            throw `\"${position}\" is not a valid position`;\r\n        }\r\n        if (position.length === 1) {\r\n            // t -> bc-tc\r\n            if ('tb'.includes(position)) {\r\n                position = ALIGN_POS_OPPOSITE[position] + 'c-' + position + 'c';\r\n            }\r\n            // l -> cr-cl\r\n            // c -> cc-cc\r\n            else {\r\n                position = 'c' + ALIGN_POS_OPPOSITE[position] + '-c' + position;\r\n            }\r\n        }\r\n        else if (position.length === 2) {\r\n            // tl -> bl-tl\r\n            if ('tb'.includes(position[0])) {\r\n                position = ALIGN_POS_OPPOSITE[position[0]] + position[1] + '-' + position;\r\n            }\r\n            // lt -> tr-tl\r\n            else {\r\n                position = position[1] + ALIGN_POS_OPPOSITE[position[0]] + '-' + position[1] + position[0];\r\n            }\r\n        }\r\n        let posArray = position.split('-');\r\n        return [this.completeAlignPosition(posArray[0]), this.completeAlignPosition(posArray[1])];\r\n    }\r\n    completeAlignPosition(pos) {\r\n        if (pos.length === 1) {\r\n            pos = 'tb'.includes(pos) ? pos + 'c' : 'c' + pos;\r\n        }\r\n        return pos;\r\n    }\r\n    /** top [right] [bottom] [left] -> [t, r, b, l]. */\r\n    parseMargin(margin) {\r\n        if (typeof margin === 'number') {\r\n            margin = [margin];\r\n        }\r\n        margin[0] = margin[0] || 0;\r\n        margin[1] = margin[1] !== undefined ? margin[1] || 0 : margin[0];\r\n        margin[2] = margin[2] !== undefined ? margin[2] || 0 : margin[0];\r\n        margin[3] = margin[3] !== undefined ? margin[3] || 0 : margin[1];\r\n        return margin;\r\n    }\r\n    getDirection() {\r\n        return {\r\n            top: this.position[0].includes('b') && this.position[1].includes('t'),\r\n            right: this.position[0].includes('l') && this.position[1].includes('r'),\r\n            bottom: this.position[0].includes('t') && this.position[1].includes('b'),\r\n            left: this.position[0].includes('r') && this.position[1].includes('l'),\r\n        };\r\n    }\r\n    getExtendedRectFromMargin() {\r\n        let rect = node_1.getRect(this.target);\r\n        if (this.trangle) {\r\n            if (this.direction.top || this.direction.bottom) {\r\n                this.margin[0] += this.trangle.offsetHeight;\r\n                this.margin[2] += this.trangle.offsetHeight;\r\n            }\r\n            if (this.direction.left || this.direction.right) {\r\n                this.margin[1] += this.trangle.offsetWidth;\r\n                this.margin[3] += this.trangle.offsetWidth;\r\n            }\r\n        }\r\n        if (this.direction.top || this.direction.bottom) {\r\n            rect.top -= this.margin[0];\r\n            rect.height += this.margin[0] + this.margin[2];\r\n            rect.bottom = rect.top + rect.height;\r\n        }\r\n        if (this.direction.left || this.direction.right) {\r\n            rect.left -= this.margin[3];\r\n            rect.width += this.margin[1] + this.margin[3];\r\n            rect.right = rect.left + rect.width;\r\n        }\r\n        return rect;\r\n    }\r\n    /**\r\n     * When el can be scrolled, if we just expend it to test its natural height, it's scrolled position will lost.\r\n     * So we get `scrollHeight - clientHeight` as a diff and add it to it's current height as it's natural height.\r\n     * May not el but child is scrolled.\r\n     */\r\n    getNaturalHeight() {\r\n        let h = this.el.offsetHeight;\r\n        let diffHeight = this.el.scrollHeight - this.el.clientHeight;\r\n        if (diffHeight === 0) {\r\n            diffHeight = Math.max(...[...this.el.children].map(child => child.scrollHeight - child.clientHeight));\r\n        }\r\n        if (diffHeight > 0) {\r\n            h = h + diffHeight;\r\n        }\r\n        else {\r\n            css_1.setStyle(this.el, 'height', '');\r\n            h = this.el.offsetHeight;\r\n        }\r\n        return h;\r\n    }\r\n    /** get fixed anchor position in viewport */\r\n    getFixedAnchor(w, h, anchor) {\r\n        let x = anchor.includes('l') ? 0 : anchor.includes('r') ? w : w / 2;\r\n        let y = anchor.includes('t') ? 0 : anchor.includes('b') ? h : h / 2;\r\n        return [x, y];\r\n    }\r\n    /** get absolute anchor position in scrolling page */\r\n    getAbsoluteAnchor(rect, anchor) {\r\n        let x = anchor.includes('l') ? 0 : anchor.includes('r') ? rect.width : rect.width / 2;\r\n        let y = anchor.includes('t') ? 0 : anchor.includes('b') ? rect.height : rect.height / 2;\r\n        x += rect.left;\r\n        y += rect.top;\r\n        return [x, y];\r\n    }\r\n    alignVertical() {\r\n        let dh = document.documentElement.clientHeight;\r\n        let spaceTop = this.targetRect.top;\r\n        let spaceBottom = dh - this.targetRect.bottom;\r\n        let overflowYSet = false;\r\n        let y = this.y;\r\n        if (this.direction.top && y < 0 && spaceTop < spaceBottom) {\r\n            y = this.targetRect.bottom;\r\n            this.direction.top = false;\r\n            this.direction.bottom = true;\r\n        }\r\n        else if (y + this.h > dh && spaceTop > spaceBottom) {\r\n            y = this.targetRect.top - this.h;\r\n            this.direction.top = true;\r\n            this.direction.bottom = false;\r\n        }\r\n        if (y < 0) {\r\n            y = 0;\r\n            if (this.canShrinkInY) {\r\n                css_1.setStyle(this.el, 'height', spaceTop);\r\n                overflowYSet = true;\r\n            }\r\n        }\r\n        else if (y + this.h > dh) {\r\n            if (this.canShrinkInY) {\r\n                css_1.setStyle(this.el, 'height', spaceBottom);\r\n                overflowYSet = true;\r\n            }\r\n        }\r\n        this.y = y;\r\n        return overflowYSet;\r\n    }\r\n    alignHerizontal() {\r\n        let dw = document.documentElement.clientWidth;\r\n        let spaceLeft = this.targetRect.left;\r\n        let spaceRight = dw - this.targetRect.right;\r\n        let x = this.x;\r\n        if (this.direction.left && x < 0 && spaceLeft < spaceRight) {\r\n            x = this.targetRect.right;\r\n            this.direction.left = false;\r\n            this.direction.right = true;\r\n        }\r\n        else if (this.direction.right && x > dw - this.w && spaceLeft > spaceRight) {\r\n            x = this.targetRect.left - this.w;\r\n            this.direction.left = true;\r\n            this.direction.right = false;\r\n        }\r\n        if (x < 0) {\r\n            x = 0;\r\n        }\r\n        else if (x + this.w > dw) {\r\n            x = dw - this.w;\r\n        }\r\n        this.x = x;\r\n    }\r\n    alignTrangle() {\r\n        let swapX = false;\r\n        let swapY = false;\r\n        let trangle = this.trangle;\r\n        if (this.direction.top || this.direction.bottom) {\r\n            let tx;\r\n            if (this.w >= this.targetRect.width) {\r\n                tx = this.targetRect.left + this.targetRect.width / 2 - this.x - trangle.offsetWidth / 2;\r\n            }\r\n            else {\r\n                tx = this.w / 2 - trangle.offsetWidth / 2;\r\n            }\r\n            css_1.setStyle(trangle, { left: tx });\r\n            let tTop = css_1.getNumeric(trangle, 'top');\r\n            let tBottom = css_1.getNumeric(trangle, 'bottom');\r\n            if (tTop < 0 && this.direction.top) {\r\n                swapY = true;\r\n                css_1.setStyle(trangle, { top: 'auto', bottom: tTop });\r\n            }\r\n            if (tBottom < 0 && this.direction.bottom) {\r\n                swapY = true;\r\n                css_1.setStyle(trangle, { top: tBottom, bottom: 'auto' });\r\n            }\r\n        }\r\n        if (this.direction.left || this.direction.right) {\r\n            let ty;\r\n            if (this.h >= this.targetRect.height) {\r\n                ty = this.targetRect.top + this.targetRect.height / 2 - this.y - trangle.offsetHeight / 2;\r\n            }\r\n            else {\r\n                ty = this.h / 2 - trangle.offsetHeight / 2;\r\n            }\r\n            css_1.setStyle(trangle, { top: ty });\r\n            let tLeft = css_1.getNumeric(trangle, 'left');\r\n            let tRight = css_1.getNumeric(trangle, 'right');\r\n            if (tLeft < 0 && this.direction.left) {\r\n                swapX = true;\r\n                css_1.setStyle(trangle, { left: 'auto', right: tLeft });\r\n            }\r\n            if (tRight < 0 && this.direction.right) {\r\n                swapX = true;\r\n                css_1.setStyle(trangle, { left: tRight, right: 'auto' });\r\n            }\r\n        }\r\n        if (swapX || swapY) {\r\n            let transform = '';\r\n            if (swapX) {\r\n                transform += 'rotateY(180deg)';\r\n            }\r\n            if (swapY) {\r\n                transform += swapX ? ' ' : '';\r\n                transform += 'rotateX(180deg)';\r\n            }\r\n            css_1.setStyle(trangle, 'transform', transform);\r\n        }\r\n        else {\r\n            css_1.setStyle(trangle, 'transform', '');\r\n        }\r\n    }\r\n}\r\nexports.Aligner = Aligner;\r\n/**\r\n * Align element to a mouse event.\r\n * @param el A fixed position element to align.\r\n * @param event A mouse event to align to.\r\n * @param offset `[x, y]` offset to adjust align position.\r\n */\r\nfunction alignToEvent(el, event, offset = [0, 0]) {\r\n    let isFixed = css_1.getStyle(el, 'position') === 'fixed';\r\n    if (!isFixed) {\r\n        throw new Error('Element must be \"fixed\" position when using \"alignByEvent\"');\r\n    }\r\n    let dw = document.documentElement.clientWidth;\r\n    let dh = document.documentElement.clientHeight;\r\n    let w = el.offsetWidth;\r\n    let h = el.offsetHeight;\r\n    let ex = event.clientX;\r\n    let ey = event.clientY;\r\n    let x = ex + offset[0];\r\n    let y = ey + offset[1];\r\n    if (x + w > dw) {\r\n        x = ex - w;\r\n    }\r\n    if (y + h > dh) {\r\n        y = ey - h;\r\n    }\r\n    css_1.setStyle(el, {\r\n        left: Math.round(x),\r\n        top: Math.round(y),\r\n    });\r\n}\r\nexports.alignToEvent = alignToEvent;\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst css_1 = require(\"./css\");\r\nconst util_1 = require(\"./util\");\r\nconst DEFAULT_ANIMATION_DURATION = 200;\r\nconst DEFAULT_ANIMATION_EASING = 'ease-out';\r\nconst elementAnimationMap = new WeakMap();\r\n// Copied from `Bourbon` source codes.\r\nconst CUBIC_BEZIER_EASINGS = {\r\n    // BASE\r\n    'ease': [0.250, 0.100, 0.250, 1.000],\r\n    'ease-in': [0.420, 0.000, 1.000, 1.000],\r\n    'ease-out': [0.000, 0.000, 0.580, 1.000],\r\n    'ease-in-out': [0.420, 0.000, 0.580, 1.000],\r\n    // EASE IN\r\n    'ease-in-quad': [0.550, 0.085, 0.680, 0.530],\r\n    'ease-in-cubic': [0.550, 0.055, 0.675, 0.190],\r\n    'ease-in-quart': [0.895, 0.030, 0.685, 0.220],\r\n    'ease-in-quint': [0.755, 0.050, 0.855, 0.060],\r\n    'ease-in-sine': [0.470, 0.000, 0.745, 0.715],\r\n    'ease-in-expo': [0.950, 0.050, 0.795, 0.035],\r\n    'ease-in-circ': [0.600, 0.040, 0.980, 0.335],\r\n    'ease-in-back': [0.600, -0.280, 0.735, 0.045],\r\n    // EASE OUT\r\n    'ease-out-quad': [0.250, 0.460, 0.450, 0.940],\r\n    'ease-out-cubic': [0.215, 0.610, 0.355, 1.000],\r\n    'ease-out-quart': [0.165, 0.840, 0.440, 1.000],\r\n    'ease-out-quint': [0.230, 1.000, 0.320, 1.000],\r\n    'ease-out-sine': [0.390, 0.575, 0.565, 1.000],\r\n    'ease-out-expo': [0.190, 1.000, 0.220, 1.000],\r\n    'ease-out-circ': [0.075, 0.820, 0.165, 1.000],\r\n    'ease-out-back': [0.175, 0.885, 0.320, 1.275],\r\n    // EASE IN OUT\r\n    'ease-in-out-quad': [0.455, 0.030, 0.515, 0.955],\r\n    'ease-in-out-cubic': [0.645, 0.045, 0.355, 1.000],\r\n    'ease-in-out-quart': [0.770, 0.000, 0.175, 1.000],\r\n    'ease-in-out-quint': [0.860, 0.000, 0.070, 1.000],\r\n    'ease-in-out-sine': [0.445, 0.050, 0.550, 0.950],\r\n    'ease-in-out-expo': [1.000, 0.000, 0.000, 1.000],\r\n    'ease-in-out-circ': [0.785, 0.135, 0.150, 0.860],\r\n    'ease-in-out-back': [0.680, -0.550, 0.265, 1.550],\r\n};\r\nconst easingFns = {\r\n    linear: function (x) {\r\n        return x;\r\n    }\r\n};\r\nfunction getEasingFunction(name) {\r\n    if (name === 'linear') {\r\n        return easingFns[name];\r\n    }\r\n    else {\r\n        return easingFns[name] = getCubicBezierEasingFunction(name);\r\n    }\r\n}\r\nexports.getEasingFunction = getEasingFunction;\r\n/**\r\nF(t)  = (1-t)^3 * P0 + 3t(1-t)^2 * P1 + 3t^2(1-t)^2 * P2 + t^3 * P3, t in [0, 1]\r\nCx(t) = 3t(1-t)^2 * x1 + 3t^2(1-t) * x2 + t^3\r\n        = (3x1 - 3x2 + 1) * t^3 + (-6x1 + 3x2) * t^2 + 3x1 * t\r\n\r\nCx(t) = x\r\n        => (3x1 - 3x2 + 1) * t^3 + (-6x1 + 3x2) * t^2 + 3x1 * t = x\r\n\r\nCy(t) = 3t(1-t)^2 * y1 + 3t^2(1-t) * y2 + t^3 = y\r\n\r\nFor any x between [0, 1], got t from Cx(t), then got y from Cy(t).\r\n*/\r\nfunction getCubicBezierEasingFunction(name) {\r\n    let [x1, y1, x2, y2] = CUBIC_BEZIER_EASINGS[name];\r\n    let a = 3 * x1 - 3 * x2 + 1;\r\n    let b = -6 * x1 + 3 * x2;\r\n    let c = 3 * x1;\r\n    let ay = 3 * y1 - 3 * y2 + 1;\r\n    let by = -6 * y1 + 3 * y2;\r\n    let cy = 3 * y1;\r\n    return function (x) {\r\n        if (x === 0) {\r\n            return 0;\r\n        }\r\n        else if (x === 1) {\r\n            return 1;\r\n        }\r\n        let d = -x;\r\n        let t1 = 0;\r\n        let t2 = 1;\r\n        let t = (t1 + t2) / 2;\r\n        while (t2 - t1 > 0.0001) {\r\n            let v = ((a * t + b) * t + c) * t + d;\r\n            if (v < 0) {\r\n                t1 = t;\r\n            }\r\n            else {\r\n                t2 = t;\r\n            }\r\n            t = (t1 + t2) / 2;\r\n        }\r\n        return ((ay * t + by) * t + cy) * t;\r\n    };\r\n}\r\nfunction startIntervalAnimation(duration = DEFAULT_ANIMATION_DURATION, easing = DEFAULT_ANIMATION_EASING, onInterval, onEnd) {\r\n    let startTimestamp = performance.now();\r\n    let easingFn = getEasingFunction(easing);\r\n    let frameId = 0;\r\n    let runNextFrame = () => {\r\n        frameId = requestAnimationFrame((timestamp) => {\r\n            let timeDiff = timestamp - startTimestamp;\r\n            let x = timeDiff / duration;\r\n            if (x >= 1) {\r\n                frameId = 0;\r\n                onInterval(1);\r\n                if (onEnd) {\r\n                    onEnd(true);\r\n                }\r\n            }\r\n            else {\r\n                let y = easingFn(x);\r\n                onInterval(y);\r\n                runNextFrame();\r\n            }\r\n        });\r\n    };\r\n    runNextFrame();\r\n    return () => {\r\n        if (frameId) {\r\n            cancelAnimationFrame(frameId);\r\n            if (onEnd) {\r\n                onEnd(false);\r\n            }\r\n        }\r\n    };\r\n}\r\n/**\r\n * Animate numberic style property or `scrollLeft` and `scrollTop` using interval.\r\n * @param el The element to animate.\r\n * @param property The style property or `scrollLeft` and `scrollTop`.\r\n * @param startValue The start value.\r\n * @param endValue  The end value.\r\n * @param duration The animation duration.\r\n * @param easing  The animation easing.\r\n */\r\nfunction animateProperty(el, property, startValue, endValue, duration, easing = DEFAULT_ANIMATION_EASING) {\r\n    let stop;\r\n    let promise = new Promise((resolve) => {\r\n        stop = startIntervalAnimation(duration, easing, (y) => {\r\n            let value = startValue + (endValue - startValue) * y;\r\n            if (property === 'scrollTop' || property === 'scrollLeft') {\r\n                el[property] = value;\r\n            }\r\n            else {\r\n                css_1.setStyle(el, property, value);\r\n            }\r\n        }, resolve);\r\n    });\r\n    return {\r\n        promise,\r\n        stop,\r\n    };\r\n}\r\nexports.animateProperty = animateProperty;\r\n/**\r\n * Animate numberic style property or `scrollLeft` and `scrollTop` using interval.\r\n * @param el The element to animate.\r\n * @param property The style property or `scrollLeft` and `scrollTop`.\r\n * @param startValue The start value.\r\n * @param duration The animation duration.\r\n * @param easing  The animation easing.\r\n */\r\nfunction animatePropertyFrom(el, property, startValue, duration, easing = DEFAULT_ANIMATION_EASING) {\r\n    let endValue;\r\n    if (property === 'scrollTop' || property === 'scrollLeft') {\r\n        endValue = el[property];\r\n    }\r\n    else {\r\n        endValue = css_1.getNumeric(el, property);\r\n    }\r\n    return animateProperty(el, property, startValue, endValue, duration, easing);\r\n}\r\nexports.animatePropertyFrom = animatePropertyFrom;\r\n/**\r\n * Animate numberic style property or `scrollLeft` and `scrollTop` using interval.\r\n * @param el The element to animate.\r\n * @param property The style property or `scrollLeft` and `scrollTop`.\r\n * @param endValue The end value.\r\n * @param duration The animation duration.\r\n * @param easing  The animation easing.\r\n */\r\nfunction animatePropertyTo(el, property, endValue, duration, easing = DEFAULT_ANIMATION_EASING) {\r\n    let startValue;\r\n    if (property === 'scrollTop' || property === 'scrollLeft') {\r\n        startValue = el[property];\r\n    }\r\n    else {\r\n        startValue = css_1.getNumeric(el, property);\r\n    }\r\n    return animateProperty(el, property, startValue, endValue, duration, easing);\r\n}\r\nexports.animatePropertyTo = animatePropertyTo;\r\n/**\r\n * Animate by a function using interval.\r\n * @param fn The function which will got a current state number value as argument.\r\n * @param startValue The start value.\r\n * @param endValue  The end value.\r\n * @param duration The animation duration.\r\n * @param easing  The animation easing.\r\n */\r\nfunction animateByFunction(fn, startValue, endValue, duration, easing = DEFAULT_ANIMATION_EASING) {\r\n    let stop;\r\n    let promise = new Promise((resolve) => {\r\n        stop = startIntervalAnimation(duration, easing, (y) => {\r\n            fn(startValue + (endValue - startValue) * y);\r\n        }, resolve);\r\n    });\r\n    return {\r\n        promise,\r\n        stop,\r\n    };\r\n}\r\nexports.animateByFunction = animateByFunction;\r\n/**\r\n * Execute standard web animation on element. After animation end, the state of element will go back to the start state.\r\n * @param el The element to execute web animation.\r\n * @param startFrame The start frame.\r\n * @param endFrame The end frame.\r\n * @param duration The animation duration.\r\n * @param easing  The animation easing.\r\n */\r\nfunction animate(el, startFrame, endFrame, duration = DEFAULT_ANIMATION_DURATION, easing = DEFAULT_ANIMATION_EASING) {\r\n    if (!el.animate) {\r\n        return Promise.resolve(false);\r\n    }\r\n    stopAnimation(el);\r\n    startFrame = util_1.normativeStyleObject(startFrame);\r\n    endFrame = util_1.normativeStyleObject(endFrame);\r\n    let cubicEasing = getAnimationEasing(easing);\r\n    let animation = el.animate([startFrame, endFrame], {\r\n        easing: cubicEasing,\r\n        duration,\r\n    });\r\n    elementAnimationMap.set(el, animation);\r\n    return new Promise((resolve) => {\r\n        animation.addEventListener('finish', () => {\r\n            elementAnimationMap.delete(el);\r\n            resolve(true);\r\n        }, false);\r\n        animation.addEventListener('cancel', () => {\r\n            elementAnimationMap.delete(el);\r\n            resolve(false);\r\n        }, false);\r\n    });\r\n}\r\nexports.animate = animate;\r\nfunction getAnimationEasing(easing) {\r\n    return CUBIC_BEZIER_EASINGS.hasOwnProperty(easing)\r\n        ? 'cubic-bezier(' + CUBIC_BEZIER_EASINGS[easing].join(', ') + ')'\r\n        : easing;\r\n}\r\n/** The default style of element, which is not 0 */\r\nconst DEFAULT_STYLE = {\r\n    transform: 'none'\r\n};\r\n/**\r\n * Execute standard web animation on element.\r\n * @param el The element to execute web animation.\r\n * @param startFrame The start frame.\r\n * @param duration The animation duration.\r\n * @param easing  The animation easing.\r\n */\r\nfunction animateFrom(el, startFrame, duration = DEFAULT_ANIMATION_DURATION, easing = DEFAULT_ANIMATION_EASING) {\r\n    let endFrame = {};\r\n    let style = getComputedStyle(el);\r\n    for (let property in startFrame) {\r\n        endFrame[property] = style[property] || DEFAULT_STYLE[property] || '0';\r\n    }\r\n    return animate(el, startFrame, endFrame, duration, easing);\r\n}\r\nexports.animateFrom = animateFrom;\r\n/**\r\n * Execute standard web animation on element. After animation end, the state of element will be the specified end state.\r\n * @param el The element to execute web animation.\r\n * @param endFrame The end frame.\r\n * @param duration The animation duration.\r\n * @param easing  The animation easing.\r\n */\r\nasync function animateTo(el, endFrame, duration = DEFAULT_ANIMATION_DURATION, easing = DEFAULT_ANIMATION_EASING) {\r\n    let startFrame = {};\r\n    let style = getComputedStyle(el);\r\n    for (let property in endFrame) {\r\n        startFrame[property] = style[property] || DEFAULT_STYLE[property] || '0';\r\n    }\r\n    let finish = await animate(el, startFrame, endFrame, duration, easing);\r\n    if (finish) {\r\n        css_1.setStyle(el, endFrame);\r\n    }\r\n    return finish;\r\n}\r\nexports.animateTo = animateTo;\r\n/** Capture current states as start frame, and later states as end frame\r\n * @param el The element to execute web animation.\r\n * @param properties The style properties to capture.\r\n * @param duration The animation duration.\r\n * @param easing  The animation easing.\r\n */\r\nfunction animateToNextFrame(el, properties, duration = DEFAULT_ANIMATION_DURATION, easing = DEFAULT_ANIMATION_EASING) {\r\n    if (!el.animate) {\r\n        return Promise.resolve(false);\r\n    }\r\n    stopAnimation(el);\r\n    if (typeof properties === 'string') {\r\n        properties = [properties];\r\n    }\r\n    let startFrame = {};\r\n    let style = getComputedStyle(el);\r\n    for (let property of properties) {\r\n        startFrame[property] = style[property];\r\n    }\r\n    return new Promise(resolve => {\r\n        requestAnimationFrame(() => {\r\n            animateFrom(el, startFrame, duration, easing).then(resolve);\r\n        });\r\n    });\r\n}\r\nexports.animateToNextFrame = animateToNextFrame;\r\n/**\r\n * Stop animation on element.\r\n * @param el The element to stop animation on.\r\n */\r\nfunction stopAnimation(el) {\r\n    let animation = elementAnimationMap.get(el);\r\n    if (animation) {\r\n        animation.cancel();\r\n        elementAnimationMap.delete(el);\r\n    }\r\n}\r\nexports.stopAnimation = stopAnimation;\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst util_1 = require(\"./util\");\r\n/**\r\n * Get computed style value as number from element.\r\n * @param el The element to get numeric value.\r\n * @param property The property name in camer case, `backgroundColor` as example.\r\n */\r\nfunction getNumeric(el, property) {\r\n    let value = getStyle(el, property);\r\n    return parseFloat(value) || 0;\r\n}\r\nexports.getNumeric = getNumeric;\r\n/**\r\n * Get computed style value from element.\r\n * @param el The element to get style value.\r\n * @param property The property name in camer case, `backgroundColor` as example.\r\n */\r\nfunction getStyle(el, property) {\r\n    return getComputedStyle(el)[property];\r\n}\r\nexports.getStyle = getStyle;\r\nfunction setStyle(el, property, value) {\r\n    if (typeof property === 'object') {\r\n        for (let prop of Object.keys(property)) {\r\n            setStyle(el, prop, property[prop]);\r\n        }\r\n    }\r\n    else {\r\n        el.style.setProperty(property, util_1.normativeStyleValue(property, value));\r\n    }\r\n}\r\nexports.setStyle = setStyle;\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst css_1 = require(\"./css\");\r\n/**\r\n * Set element draggable that it can be dragged by mouse.\r\n * @param el The element which will handle mouse event.\r\n * @param mover The element that moves with the mouse.\r\n */\r\nfunction setDraggable(el, mover = el) {\r\n    let relX;\r\n    let relY;\r\n    let minX;\r\n    let minY;\r\n    function onMouseDown(e) {\r\n        let left = css_1.getNumeric(mover, 'left') || 0;\r\n        let top = css_1.getNumeric(mover, 'top') || 0;\r\n        let w = mover.offsetWidth;\r\n        let h = mover.offsetHeight;\r\n        let dw = document.documentElement.clientWidth;\r\n        let dh = document.documentElement.clientHeight;\r\n        relX = left - e.clientX;\r\n        relY = top - e.clientY;\r\n        minX = dw - w;\r\n        minY = dh - h;\r\n        css_1.setStyle(mover, 'willChange', 'top left');\r\n        document.addEventListener('mousemove', onMouseMove, false);\r\n        document.addEventListener('mouseup', onMouseUp, false);\r\n    }\r\n    function onMouseMove(e) {\r\n        e.preventDefault();\r\n        let x = relX + e.clientX;\r\n        let y = relY + e.clientY;\r\n        x = Math.min(Math.max(x, 0), minX);\r\n        y = Math.min(Math.max(y, 0), minY);\r\n        css_1.setStyle(mover, 'left', x);\r\n        css_1.setStyle(mover, 'top', y);\r\n    }\r\n    function onMouseUp() {\r\n        css_1.setStyle(mover, 'willChange', '');\r\n        document.removeEventListener('mousemove', onMouseMove, false);\r\n        document.removeEventListener('mouseup', onMouseUp, false);\r\n    }\r\n    el.addEventListener('mousedown', onMouseDown, false);\r\n    return function cancelMovable() {\r\n        el.removeEventListener('mousedown', onMouseDown, false);\r\n    };\r\n}\r\nexports.setDraggable = setDraggable;\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Download url as a file.\r\n * @param url The URL to download.\r\n * @param fileName The file name.\r\n */\r\nfunction downloadURL(url, fileName) {\r\n    let a = document.createElement('a');\r\n    a.hidden = true;\r\n    a.href = url;\r\n    if (fileName) {\r\n        a.download = fileName;\r\n    }\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    a.remove();\r\n}\r\nexports.downloadURL = downloadURL;\r\n/**\r\n * Download string as a file.\r\n * @param fileName The file name.\r\n * @param text The text to download.\r\n * @param mime The MIME type of file.\r\n */\r\nfunction downloadText(fileName, text, type = 'text/plain') {\r\n    let blob = new Blob([text], { type });\r\n    let fs = new FileReader;\r\n    fs.onload = () => {\r\n        fs.onload = null;\r\n        let a = document.createElement('a');\r\n        a.download = fileName;\r\n        a.href = fs.result;\r\n        document.body.append(a);\r\n        a.click();\r\n        a.remove();\r\n    };\r\n    fs.readAsDataURL(blob);\r\n}\r\nexports.downloadText = downloadText;\r\n/**\r\n * Select single files by `<input type=\"file\">` match MIME type.\r\n * @param The MIME type of files.\r\n */\r\nfunction selectFile(mime) {\r\n    return selectFileOrFolder(mime, false, false);\r\n}\r\nexports.selectFile = selectFile;\r\n/**\r\n * Select multiple files by `<input type=\"file\">` match MIME type.\r\n * @param The MIME type of files.\r\n */\r\nfunction selectMultipleFile(mime) {\r\n    return selectFileOrFolder(mime, false, true);\r\n}\r\nexports.selectMultipleFile = selectMultipleFile;\r\n/**\r\n * Select single folder by `<input type=\"file\">` match MIME type.\r\n */\r\nfunction selectFolder() {\r\n    return selectFileOrFolder(\"*\", true, false);\r\n}\r\nexports.selectFolder = selectFolder;\r\n/**\r\n * Select multiple folder by `<input type=\"file\">` match MIME type.\r\n */\r\nfunction selectMultipleFolder() {\r\n    return selectFileOrFolder(\"*\", true, true);\r\n}\r\nexports.selectMultipleFolder = selectMultipleFolder;\r\nfunction selectFileOrFolder(mime, isFolder, isMultiple) {\r\n    return new Promise((resolve) => {\r\n        let input = document.createElement('input');\r\n        input.type = 'file';\r\n        input.hidden = true;\r\n        input.accept = mime;\r\n        input.multiple = isMultiple;\r\n        if (isFolder) {\r\n            input.setAttribute('directory', '');\r\n            input.setAttribute('webkitdirectory', '');\r\n        }\r\n        input.onchange = () => {\r\n            if (input.files) {\r\n                resolve(isMultiple ? [...input.files] : input.files[0] || null);\r\n            }\r\n            else {\r\n                resolve(null);\r\n            }\r\n        };\r\n        function onDomFocus() {\r\n            document.removeEventListener('focus', onDomFocus, false);\r\n            input.onchange = null;\r\n            input.remove();\r\n        }\r\n        document.addEventListener('focus', onDomFocus, false);\r\n        document.body.appendChild(input);\r\n        input.click();\r\n    });\r\n}\r\n/**\r\n * Get files from transfoer in drop event. Only supported by Chrome.\r\n * @param transfer The ` DataTransfer` object from drop event.\r\n */\r\nasync function getFilesFromTransfer(transfer) {\r\n    let transferFiles = [...transfer.files];\r\n    let files = [];\r\n    if (transfer.items && typeof DataTransferItem === 'function' && (DataTransferItem.prototype.hasOwnProperty('getAsEntry') || DataTransferItem.prototype.webkitGetAsEntry)) {\r\n        let items = [...transfer.items].filter(item => item.kind === 'file');\r\n        try {\r\n            for (let item of items) {\r\n                let entry = item.hasOwnProperty('getAsEntry') ? item.getAsEntry() : item.webkitGetAsEntry();\r\n                files.push(...await readFilesFromEntry(entry));\r\n            }\r\n        }\r\n        catch (err) {\r\n            files = transferFiles;\r\n        }\r\n    }\r\n    // Can only read files\r\n    else {\r\n        files = transferFiles;\r\n    }\r\n    return files;\r\n}\r\nexports.getFilesFromTransfer = getFilesFromTransfer;\r\nasync function readFilesFromEntry(entry) {\r\n    let files = [];\r\n    return new Promise(async (resolve, reject) => {\r\n        if (!entry) {\r\n            resolve();\r\n        }\r\n        else if (entry.isFile) {\r\n            entry.file((file) => {\r\n                file.path = file.path || entry.fullPath;\r\n                files.push(file);\r\n                resolve(files);\r\n            }, reject);\r\n        }\r\n        else if (entry.isDirectory) {\r\n            let reader = entry.createReader();\r\n            try {\r\n                while (true) {\r\n                    let filesInFolder = await readFilesFromDirectoryReader(reader);\r\n                    files.push(...filesInFolder);\r\n                    if (!filesInFolder.length) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n            resolve(files);\r\n        }\r\n    });\r\n}\r\nfunction readFilesFromDirectoryReader(reader) {\r\n    return new Promise((resolve, reject) => {\r\n        let files = [];\r\n        // readEntries API can only read at most 100 files each time, so if reader isn't completed, still read it.\r\n        reader.readEntries(async (entries) => {\r\n            if (entries && entries.length) {\r\n                try {\r\n                    for (let entry of entries) {\r\n                        files.push(...await readFilesFromEntry(entry));\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    reject(err);\r\n                }\r\n                resolve(files);\r\n            }\r\n            else {\r\n                resolve(files);\r\n            }\r\n        }, reject);\r\n    });\r\n}\r\n",
    "\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./css\"));\r\n__export(require(\"./node\"));\r\n__export(require(\"./align\"));\r\n__export(require(\"./scroll\"));\r\n__export(require(\"./animate\"));\r\n__export(require(\"./draggable\"));\r\n__export(require(\"./pan\"));\r\n__export(require(\"./mouse-leave\"));\r\n__export(require(\"./file\"));\r\n__export(require(\"./query\"));\r\n__export(require(\"./storage\"));\r\n__export(require(\"./watch\"));\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Call callback after mouse leaves all of the elements. It's very usefull to handle mouse hover event in menu & submenu.\r\n * @param elOrs The element array to capture leave at.\r\n * @param ms If mouse leaves all the element and don't enter elements again, call callback.\r\n * @param callback The callback to call after mouse leaves all the elements.\r\n */\r\nfunction onMouseLeaveAll(elOrs, callback, ms = 200) {\r\n    return bindMouseLeaveAll(false, elOrs, callback, ms);\r\n}\r\nexports.onMouseLeaveAll = onMouseLeaveAll;\r\n/**\r\n * Call callback after mouse leaves all of the elements only for once, its very usefull to handle mouse event in menu & submenu.\r\n * @param elOrs The element array to capture leave at.\r\n * @param ms If mouse leaves all the element and don't enter elements again, call callback.\r\n * @param callback The callback to call after mouse leaves all the elements.\r\n */\r\nfunction onceMouseLeaveAll(elOrs, callback, ms = 200) {\r\n    return bindMouseLeaveAll(true, elOrs, callback, ms);\r\n}\r\nexports.onceMouseLeaveAll = onceMouseLeaveAll;\r\nfunction bindMouseLeaveAll(isOnce, elOrs, callback, ms) {\r\n    let els = Array.isArray(elOrs) ? elOrs : [elOrs];\r\n    let mouseIn = false;\r\n    let ended = false;\r\n    let timer = null;\r\n    function onMouseEnter() {\r\n        mouseIn = true;\r\n        clear();\r\n    }\r\n    function onMouseLeave() {\r\n        mouseIn = false;\r\n        clear();\r\n        timer = setTimeout(function () {\r\n            timer = null;\r\n            if (!mouseIn) {\r\n                flush();\r\n            }\r\n        }, ms);\r\n    }\r\n    function clear() {\r\n        if (timer) {\r\n            clearTimeout(timer);\r\n            timer = null;\r\n        }\r\n    }\r\n    function flush() {\r\n        if (ended) {\r\n            return;\r\n        }\r\n        if (isOnce) {\r\n            cancel();\r\n        }\r\n        callback();\r\n    }\r\n    function cancel() {\r\n        if (timer) {\r\n            clearTimeout(timer);\r\n        }\r\n        for (let el of els) {\r\n            el.removeEventListener('mouseenter', onMouseEnter, false);\r\n            el.removeEventListener('mouseleave', onMouseLeave, false);\r\n        }\r\n        ended = true;\r\n    }\r\n    for (let el of els) {\r\n        el.addEventListener('mouseenter', onMouseEnter, false);\r\n        el.addEventListener('mouseleave', onMouseLeave, false);\r\n    }\r\n    return cancel;\r\n}\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst css_1 = require(\"./css\");\r\n/**\r\n * Returns the index of node in it' node silbings.\r\n * @param el The node.\r\n */\r\nfunction nodeIndex(el) {\r\n    if (el.parentNode) {\r\n        let i = 0;\r\n        for (let child of el.parentNode.childNodes) {\r\n            if (child === el) {\r\n                return i;\r\n            }\r\n            i++;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\nexports.nodeIndex = nodeIndex;\r\n/**\r\n * Returns the index of element in it' element silbings.\r\n * @param el The node.\r\n */\r\nfunction elementIndex(el) {\r\n    if (el.parentNode) {\r\n        let i = 0;\r\n        for (let child of el.parentNode.children) {\r\n            if (child === el) {\r\n                return i;\r\n            }\r\n            i++;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\nexports.elementIndex = elementIndex;\r\n/**\r\n * Returns inner width of element, which equals `clientWidth - paddingWidths` or `width - paddingWidths - scrollbarWidth`. Note that this may cause page reflow.\r\n * @param el The element to get width.\r\n */\r\nfunction innerWidth(el) {\r\n    let w = el.clientWidth;\r\n    if (w) {\r\n        return el.clientWidth - css_1.getNumeric(el, 'paddingLeft') - css_1.getNumeric(el, 'paddingRight');\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\nexports.innerWidth = innerWidth;\r\n/**\r\n * Returns inner height of element, which equals `clientHeight - paddingHeights` or `height - paddingHeights - scrollbarHeight`. Note that this may cause page reflow.\r\n * @param el The element to get height.\r\n */\r\nfunction innerHeight(el) {\r\n    let h = el.clientHeight;\r\n    if (h) {\r\n        return h - css_1.getNumeric(el, 'paddingTop') - css_1.getNumeric(el, 'paddingBottom');\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\nexports.innerHeight = innerHeight;\r\n/**\r\n * Returns outer width of element, which equals `offsetWidth + marginWidths`. Note that this may cause page reflow.\r\n * @param el The element to get width.\r\n */\r\nfunction outerWidth(el) {\r\n    let w = el.offsetWidth;\r\n    if (w) {\r\n        return w + css_1.getNumeric(el, 'marginLeft') + css_1.getNumeric(el, 'marginRight');\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\nexports.outerWidth = outerWidth;\r\n/**\r\n * Returns inner height of element, which equals `offsetHeight + marginHeights`. Note that this may cause page reflow.\r\n * @param el The element to get height.\r\n */\r\nfunction outerHeight(el) {\r\n    let h = el.offsetHeight;\r\n    if (h) {\r\n        return h + css_1.getNumeric(el, 'marginTop') + css_1.getNumeric(el, 'marginBottom');\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\nexports.outerHeight = outerHeight;\r\n/**\r\n * Returns an object like `getBoundingClientRect`, the didderence is it always returns the visible part for `<html>`. Note that this may cause page reflow.\r\n * @param el The element to get rect size.\r\n */\r\nfunction getRect(el) {\r\n    if (el === document.documentElement) {\r\n        let dw = document.documentElement.clientWidth;\r\n        let dh = document.documentElement.clientHeight;\r\n        return {\r\n            top: 0,\r\n            right: dw,\r\n            bottom: dh,\r\n            left: 0,\r\n            width: dw,\r\n            height: dh,\r\n        };\r\n    }\r\n    else {\r\n        let rect = el.getBoundingClientRect();\r\n        return {\r\n            bottom: rect.bottom,\r\n            height: rect.height,\r\n            left: rect.left,\r\n            right: rect.right,\r\n            top: rect.top,\r\n            width: rect.width,\r\n        };\r\n    }\r\n}\r\nexports.getRect = getRect;\r\n// Returns if has enough intersection with viewport\r\n// Percentage supports negative value\r\n/**\r\n * Check if element is visible in current viewport. Note that this may cause page reflow.\r\n * @param el The element to check if is in view.\r\n * @param percentage Specify how much percentage of el size implies in view.\r\n */\r\nfunction isInview(el, percentage = 0.5) {\r\n    let dw = document.documentElement.clientWidth;\r\n    let dh = document.documentElement.clientHeight;\r\n    let box = getRect(el);\r\n    let xIntersect = Math.min(dw, box.right) - Math.max(0, box.left);\r\n    let yIntersect = Math.min(dh, box.bottom) - Math.max(0, box.top);\r\n    return xIntersect / Math.min(box.width, dw) > percentage\r\n        && yIntersect / Math.min(box.height, dh) > percentage;\r\n}\r\nexports.isInview = isInview;\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst css_1 = require(\"./css\");\r\n/**\r\n * Handle pan event on mobile devices.\r\n * @param el The element to bind pan event.\r\n * @param callback The callback to call when pan event emitted, accept one argument diection to be `'l' | 'r' | 't' | 'b'`.\r\n */\r\nfunction onPan(el, callback) {\r\n    let startX;\r\n    let startY;\r\n    function onTouchStart(e) {\r\n        css_1.setStyle(el, 'transition', 'none');\r\n        startX = e.changedTouches[0].pageX;\r\n        startY = e.changedTouches[0].pageY;\r\n        document.addEventListener('touchmove', onTouchMove, false);\r\n        document.addEventListener('touchend', onTouchEnd, false);\r\n    }\r\n    function onTouchMove(e) {\r\n        let x = e.changedTouches[0].pageX;\r\n        let y = e.changedTouches[0].pageY;\r\n        let movedX = x - startX;\r\n        let movedY = y - startY;\r\n        if (Math.abs(movedX / movedY) > 1) {\r\n            e.preventDefault();\r\n            css_1.setStyle(el, 'transform', `translateX(${movedX}px)`);\r\n        }\r\n    }\r\n    function onTouchEnd(e) {\r\n        css_1.setStyle(el, { transition: '', transform: '' });\r\n        document.removeEventListener('touchmove', onTouchMove, false);\r\n        document.removeEventListener('touchend', onTouchEnd, false);\r\n        let x = e.changedTouches[0].pageX;\r\n        let y = e.changedTouches[0].pageY;\r\n        let movedX = x - startX;\r\n        let movedY = y - startY;\r\n        if (Math.abs(movedX / movedY) > 1 && Math.abs(movedX) > 20) {\r\n            e.preventDefault();\r\n            if (movedX > 0) {\r\n                callback('l');\r\n            }\r\n            else {\r\n                callback('r');\r\n            }\r\n        }\r\n        else if (Math.abs(movedX / movedY) < 1 && Math.abs(movedY) > 20) {\r\n            e.preventDefault();\r\n            if (movedY > 0) {\r\n                callback('b');\r\n            }\r\n            else {\r\n                callback('t');\r\n            }\r\n        }\r\n    }\r\n    el.addEventListener('touchstart', onTouchStart, false);\r\n    return function cancelPan() {\r\n        el.removeEventListener('touchstart', onTouchStart, false);\r\n    };\r\n}\r\nexports.onPan = onPan;\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Parse URL search part to a query parameter object.\r\n * @param url The url to parse query parameter.\r\n */\r\nfunction parseQuery(url) {\r\n    let match = url.match(/\\?(.+)/);\r\n    let pieces = match ? match[1].split('&') : [];\r\n    let q = {};\r\n    for (let piece of pieces) {\r\n        let [key, value] = piece.split('=');\r\n        if (key) {\r\n            value = decodeURIComponent(value || '');\r\n            q[key] = value;\r\n        }\r\n    }\r\n    return q;\r\n}\r\nexports.parseQuery = parseQuery;\r\n/**\r\n * Build URL and query parameter object to a new URL.\r\n * @param url The base url.\r\n * @param query The query parameter object.\r\n */\r\nfunction useQuery(url, query) {\r\n    let hasQuery = url.includes('?');\r\n    if (typeof query === 'string') {\r\n        return url + (hasQuery ? '&' : '?') + query;\r\n    }\r\n    else if (query && typeof query === 'object') {\r\n        for (let key in query) {\r\n            let value = encodeURIComponent(query[key]);\r\n            url += (hasQuery ? '&' : '?') + key + '=' + value;\r\n            hasQuery = true;\r\n        }\r\n    }\r\n    return url;\r\n}\r\nexports.useQuery = useQuery;\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst animate_1 = require(\"./animate\");\r\n/**\r\n * Returns if element can scroll.\r\n * @param el The element to check scrolling. Note that this method may cause reflow.\r\n */\r\nfunction isContentOverflow(el) {\r\n    return el.scrollHeight > el.clientHeight || el.scrollWidth > el.clientWidth;\r\n}\r\nexports.isContentOverflow = isContentOverflow;\r\nlet scrollBarWidth = null;\r\n/**\r\n * Get scroll bar width. after first running, the returned value will keep unchanged.\r\n * Note that this method will cause page reflow for the first time.\r\n */\r\nfunction getScrollbarWidth() {\r\n    if (scrollBarWidth !== null) {\r\n        return scrollBarWidth;\r\n    }\r\n    let div = document.createElement('div');\r\n    div.style.cssText = 'width:100px; height:100px; overflow:scroll; position:absolute; left:-100px; top:-100px;';\r\n    document.body.append(div);\r\n    scrollBarWidth = div.offsetWidth - div.clientWidth;\r\n    div.remove();\r\n    return scrollBarWidth;\r\n}\r\nexports.getScrollbarWidth = getScrollbarWidth;\r\n/**\r\n * Find the closest scroll wrapper, which may have `overflow: auto / scroll`. Note that this method may cause reflow.\r\n *  */\r\nfunction getClosestScrollWrapper(el) {\r\n    while (el\r\n        && el.scrollWidth <= el.clientWidth\r\n        && el.scrollHeight <= el.clientHeight) {\r\n        el = el.parentElement;\r\n    }\r\n    return el;\r\n}\r\nexports.getClosestScrollWrapper = getClosestScrollWrapper;\r\n/**\r\n * Scroll scrollbars in closest scroll wrapper for minimal distance to let element enter into the viewport area. Returns if scrolled.\r\n * @param el The element you want to see.\r\n * @param gap Keep a little distance from the element's edge to the viewport's edge.\r\n * @param duration If specified, will run an animation when scrolling.\r\n * @param easing The animation esing.\r\n */\r\nfunction scrollToView(el, gap = 0, duration = 0, easing = 'ease-out') {\r\n    let wrapper = getClosestScrollWrapper(el);\r\n    if (!wrapper) {\r\n        return false;\r\n    }\r\n    let direction = getScrollDirection(wrapper);\r\n    if (!direction) {\r\n        return false;\r\n    }\r\n    if (direction === 'y') {\r\n        let oldScrollY = wrapper.scrollTop;\r\n        let newScrollY = 0;\r\n        let offsetY = getScrollOffset(el, wrapper, direction);\r\n        // Needs to scroll for pxs to top edges align\r\n        let topOffset = offsetY - gap - oldScrollY;\r\n        // Needs to scroll for pxs to bottom edges align\r\n        let botOffset = offsetY + el.offsetHeight + gap - wrapper.clientHeight - oldScrollY;\r\n        // Needs to scroll up\r\n        if (topOffset < 0 && botOffset < 0) {\r\n            newScrollY = Math.max(topOffset, botOffset) + oldScrollY;\r\n        }\r\n        // Needs to scroll down\r\n        else if (botOffset > 0 && topOffset > 0) {\r\n            newScrollY = Math.min(botOffset, topOffset) + oldScrollY;\r\n        }\r\n        if (newScrollY !== oldScrollY) {\r\n            if (duration) {\r\n                animate_1.animatePropertyTo(wrapper, 'scrollTop', newScrollY, duration, easing);\r\n            }\r\n            else {\r\n                wrapper.scrollTop = newScrollY;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n    if (direction === 'x') {\r\n        let offsetX = getScrollOffset(el, wrapper, direction);\r\n        let scrollX = wrapper.scrollLeft;\r\n        let newScrollX = 0;\r\n        let startOffset = offsetX - gap - scrollX;\r\n        let endOffset = offsetX + el.offsetWidth + gap - scrollX - wrapper.clientWidth;\r\n        if (startOffset < 0 && endOffset < 0 || el.offsetWidth > wrapper.clientWidth) {\r\n            newScrollX = Math.max(0, offsetX - gap);\r\n        }\r\n        else if (endOffset > 0 && startOffset > 0) {\r\n            newScrollX = Math.min(wrapper.scrollWidth, offsetX + el.offsetWidth + gap) - wrapper.clientWidth;\r\n        }\r\n        if (newScrollX !== scrollX) {\r\n            if (duration) {\r\n                animate_1.animatePropertyTo(wrapper, 'scrollLeft', newScrollX, duration, easing);\r\n            }\r\n            else {\r\n                wrapper.scrollLeft = newScrollX;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nexports.scrollToView = scrollToView;\r\n/**\r\n * Returns the scroll direction of scroll wrapper, may be `'x' | 'y' | ''`.\r\n * @param wrapper The element to get scroll direction.\r\n */\r\nfunction getScrollDirection(wrapper) {\r\n    let direction = '';\r\n    if (wrapper.scrollHeight > wrapper.clientHeight) {\r\n        direction = 'y';\r\n    }\r\n    else if (wrapper.scrollWidth > wrapper.clientWidth) {\r\n        direction = 'x';\r\n    }\r\n    return direction;\r\n}\r\nexports.getScrollDirection = getScrollDirection;\r\n/**\r\n * Get element's position in it's scroll wrapper's scroll area,\r\n * which also means the scroll wrapper's scrollTop when when top edges align.\r\n * This value is not affected by current scroll position.\r\n * @param el The element to test offset.\r\n * @param wrapper The scroll wrapper.\r\n * @param direction The scroll direction, `'x' | 'y'`.\r\n */\r\nfunction getScrollOffset(el, wrapper, direction) {\r\n    let prop = direction === 'x' ? 'offsetLeft' : 'offsetTop';\r\n    let parent = el.offsetParent;\r\n    let y = el[prop];\r\n    if (!parent || parent === wrapper) { }\r\n    else if (parent.contains(wrapper)) {\r\n        y -= wrapper[prop];\r\n    }\r\n    else {\r\n        while (parent.offsetParent && parent.offsetParent !== wrapper) {\r\n            parent = parent.offsetParent;\r\n            y += parent[prop];\r\n        }\r\n    }\r\n    return y;\r\n}\r\nexports.getScrollOffset = getScrollOffset;\r\n/**\r\n * Scroll scrollbars to let element in the top of the viewport area. Returns if scrolled.\r\n * @param el The element you want to see.\r\n * @param gap Keep a little distance from the element's edge to the viewport's edge.\r\n * @param duration If specified, will run an animation when scrolling.\r\n * @param easing The animation esing.\r\n */\r\nfunction scrollToTop(el, gap = 0, duration = 0, easing = 'ease-out') {\r\n    let wrapper = getClosestScrollWrapper(el);\r\n    if (!wrapper) {\r\n        return false;\r\n    }\r\n    let offsetY = getScrollOffset(el, wrapper, 'y');\r\n    let oldScrollY = wrapper.scrollTop;\r\n    let newScrollY = Math.max(0, offsetY - gap);\r\n    if (newScrollY !== oldScrollY) {\r\n        if (duration) {\r\n            animate_1.animatePropertyTo(wrapper, 'scrollTop', newScrollY, duration, easing);\r\n        }\r\n        else {\r\n            wrapper.scrollTop = newScrollY;\r\n        }\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexports.scrollToTop = scrollToTop;\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass JSONStorage {\r\n    constructor() {\r\n        this.prefix = '_fdom_';\r\n        this.expireSuffix = '_expires_';\r\n        this.supported = null;\r\n    }\r\n    /**\r\n     * Test if storage is supported. Will return false in private mode.\r\n     */\r\n    isSupported() {\r\n        if (this.supported !== null) {\r\n            return this.supported;\r\n        }\r\n        try {\r\n            let key = this.prefix + 'test_supported';\r\n            localStorage[key] = 1;\r\n            delete localStorage[key];\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n    }\r\n    /**\r\n     * Test if has set key.\r\n     * @param key\r\n     */\r\n    has(key) {\r\n        if (!this.isSupported()) {\r\n            return null;\r\n        }\r\n        key = this.prefix + key;\r\n        return key in localStorage;\r\n    }\r\n    /**\r\n     * Get json data from key.\r\n     * @param key The string type key.\r\n     */\r\n    get(key) {\r\n        if (!this.isSupported()) {\r\n            return null;\r\n        }\r\n        key = this.prefix + key;\r\n        let value = localStorage[key];\r\n        if (value && typeof value === 'string') {\r\n            try {\r\n                value = JSON.parse(value);\r\n                let expires = localStorage[key + this.expireSuffix];\r\n                if (expires && expires < Date.now()) {\r\n                    delete localStorage[key];\r\n                    delete localStorage[key + this.expireSuffix];\r\n                    return null;\r\n                }\r\n                else {\r\n                    return value;\r\n                }\r\n            }\r\n            catch (err) {\r\n                return null;\r\n            }\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n    /**\r\n     * Cache json data in key. Returns if cached.\r\n     * @param key The string type key.\r\n     * @param value The json data to cache.\r\n     * @param expires An optional expire time in second.\r\n     */\r\n    set(key, value, expires) {\r\n        if (!this.isSupported()) {\r\n            return null;\r\n        }\r\n        key = this.prefix + key;\r\n        localStorage[key] = JSON.stringify(value);\r\n        if (expires && expires > 0) {\r\n            localStorage[key + this.expireSuffix] = Date.now() + expires * 1000;\r\n        }\r\n        return true;\r\n    }\r\n    /**\r\n     * Delete cached json data in key. Returns if deleted.\r\n     * @param key The string type key.\r\n     */\r\n    delete(key) {\r\n        if (!this.isSupported()) {\r\n            return null;\r\n        }\r\n        key = this.prefix + key;\r\n        delete localStorage[key + this.expireSuffix];\r\n        return delete localStorage[key];\r\n    }\r\n}\r\nexports.storage = new JSONStorage();\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction normativeStyleValue(property, value) {\r\n    if (typeof value === 'number' && /(?:width|height|left|right|top|bottom|size)$/i.test(property)) {\r\n        value = value + 'px';\r\n    }\r\n    else {\r\n        value = value.toString();\r\n    }\r\n    return value;\r\n}\r\nexports.normativeStyleValue = normativeStyleValue;\r\nfunction normativeStyleObject(styleObject) {\r\n    for (let property of Object.keys(styleObject)) {\r\n        styleObject[property] = normativeStyleValue(property, styleObject[property]);\r\n    }\r\n    return styleObject;\r\n}\r\nexports.normativeStyleObject = normativeStyleObject;\r\nfunction getClosestFixedElement(el) {\r\n    while (el && el !== document.documentElement) {\r\n        if (getComputedStyle(el).position === 'fixed') {\r\n            break;\r\n        }\r\n        el = el.parentElement;\r\n    }\r\n    return el === document.documentElement ? null : el;\r\n}\r\nexports.getClosestFixedElement = getClosestFixedElement;\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst node_1 = require(\"./node\");\r\nexports.WATCH_STATE_FN = {\r\n    show(el) {\r\n        return el.offsetWidth > 0 || el.offsetHeight > 0;\r\n    },\r\n    hide(el) {\r\n        return el.offsetWidth === 0 && el.offsetHeight === 0;\r\n    },\r\n    inview(el) {\r\n        return node_1.isInview(el);\r\n    },\r\n    outview(el) {\r\n        return !node_1.isInview(el);\r\n    },\r\n    size(el) {\r\n        return {\r\n            width: el.clientWidth,\r\n            height: el.clientHeight,\r\n        };\r\n    },\r\n    rect(el) {\r\n        return node_1.getRect(el);\r\n    },\r\n};\r\nexports.watchInterval = 20;\r\n/**\r\n * Watch specified state. Returns a cancel function. Note that this method may slow page speed and cause additional reflow.\r\n * @param el The element to watch.\r\n * @param type The state to watch, can be `'show' | 'hide' | 'inview' | 'outview' | 'size' | 'rect'`.\r\n * @param callback The callback to call when state changed.\r\n * @param immediate If is true, call callback immediately with current state`.\r\n */\r\nfunction watch(el, type, callback, immediate = false) {\r\n    return bindWatch(false, false, el, type, callback, immediate);\r\n}\r\nexports.watch = watch;\r\n/**\r\n * Watch specified state until it changed. Returns a cancel function. Note that this method may slow page speed and cause additional reflow.\r\n * @param el The element to watch.\r\n * @param type The state to watch, can be `'show' | 'hide' | 'inview' | 'outview' | 'size' | 'rect'`.\r\n * @param callback The callback to call when state changed.\r\n */\r\nfunction watchOnce(el, type, callback) {\r\n    return bindWatch(true, false, el, type, callback, false);\r\n}\r\nexports.watchOnce = watchOnce;\r\n/**\r\n * Watch specified state until it becomes true. Returns a cancel function. Note that this method may slow page speed and cause additional reflow.\r\n * @param el The element to watch.\r\n * @param type The state to watch, can be `'show' | 'hide' | 'inview' | 'outview'`.\r\n * @param callback The callback to call when state becomes true.\r\n */\r\nfunction watchUntil(el, type, callback) {\r\n    return bindWatch(true, true, el, type, callback, false);\r\n}\r\nexports.watchUntil = watchUntil;\r\nfunction bindWatch(isOnce, untilTrue, el, type, callback, immediate) {\r\n    let getState = exports.WATCH_STATE_FN[type];\r\n    let oldState;\r\n    let intervalId = null;\r\n    let observer = null;\r\n    if (!getState) {\r\n        throw new Error(`Failed to watch, type \"${type}\" is not supported`);\r\n    }\r\n    if (untilTrue || immediate) {\r\n        oldState = getState(el);\r\n        if (oldState && untilTrue || immediate) {\r\n            callback(oldState);\r\n        }\r\n    }\r\n    if (untilTrue && oldState) {\r\n        return unwatch;\r\n    }\r\n    if (type === 'size' && typeof (window.ResizeObserver) === 'function') {\r\n        observer = new window.ResizeObserver(onResize);\r\n        observer.observe(el);\r\n    }\r\n    else if ((type === 'inview' || type === 'outview') && typeof IntersectionObserver === 'function') {\r\n        observer = new IntersectionObserver(onInviewChange);\r\n        observer.observe(el);\r\n    }\r\n    else {\r\n        oldState = getState(el);\r\n        intervalId = setInterval(() => {\r\n            let newState = getState(el);\r\n            onChange(newState);\r\n        }, exports.watchInterval);\r\n    }\r\n    function onResize(entries) {\r\n        for (let { contentRect } of entries) {\r\n            onChange({\r\n                width: contentRect.width,\r\n                height: contentRect.height\r\n            });\r\n        }\r\n    }\r\n    function onInviewChange(entries) {\r\n        for (let { intersectionRatio } of entries) {\r\n            let newState = type === 'inview' ? intersectionRatio > 0 : intersectionRatio === 0;\r\n            onChange(newState);\r\n        }\r\n    }\r\n    function onChange(newState) {\r\n        if (!valueOrObjectEqual(newState, oldState)) {\r\n            callback(oldState = newState);\r\n            if (isOnce || untilTrue && newState) {\r\n                unwatch();\r\n            }\r\n        }\r\n    }\r\n    function unwatch() {\r\n        if (intervalId) {\r\n            clearInterval(intervalId);\r\n            intervalId = null;\r\n        }\r\n        else if (observer) {\r\n            observer.unobserve(el);\r\n        }\r\n    }\r\n    return unwatch;\r\n}\r\nfunction valueOrObjectEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    if (typeof a !== 'object' || typeof b !== 'object' || !a || !b) {\r\n        return false;\r\n    }\r\n    let keysA = Object.keys(a);\r\n    let keysB = Object.keys(b);\r\n    if (keysA.length !== keysB.length) {\r\n        return false;\r\n    }\r\n    for (let key of keysA) {\r\n        if (!b.hasOwnProperty(key)) {\r\n            return false;\r\n        }\r\n        let valueA = a[key];\r\n        let valueB = b[key];\r\n        if (valueA !== valueB) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n",
    "\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./lib\"));\r\n__export(require(\"./dom\"));\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Add items to array, for each item in items, will push into array if is not exist in array.\r\n * @param array The array to add items.\r\n * @param items The items to add to array.\r\n */\r\nfunction add(array, ...items) {\r\n    for (let item of items) {\r\n        if (!array.includes(item)) {\r\n            array.push(item);\r\n        }\r\n    }\r\n    return array;\r\n}\r\nexports.add = add;\r\n/**\r\n * Remove items from array, returns the actual removed items.\r\n * @param array The array to remove items.\r\n * @param items The items to remove from array.\r\n */\r\nfunction remove(array, ...items) {\r\n    let removed = [];\r\n    for (let item of items) {\r\n        let index = array.indexOf(item);\r\n        if (index > -1) {\r\n            removed.push(...array.splice(index, 1));\r\n        }\r\n    }\r\n    return removed;\r\n}\r\nexports.remove = remove;\r\n/**\r\n * Remove items match `fn` from array, returns the removed items.\r\n * @param array The array to remove items.\r\n * @param fn The function which returns boolean values to determinae whether to remove item.\r\n */\r\nfunction removeFirst(array, fn) {\r\n    for (let i = array.length - 1; i >= 0; i--) {\r\n        if (fn(array[i], i)) {\r\n            return array.splice(i, 1)[0];\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\nexports.removeFirst = removeFirst;\r\n/**\r\n * Remove items match `fn` from array, returns the removed items.\r\n * @param array The array to remove items.\r\n * @param fn The function which returns boolean values to determinae whether to remove item.\r\n */\r\nfunction removeWhere(array, fn) {\r\n    let removed = [];\r\n    for (let i = 0; i < array.length; i++) {\r\n        if (fn(array[i], i)) {\r\n            removed.push(array.splice(i--, 1)[0]);\r\n        }\r\n    }\r\n    return removed;\r\n}\r\nexports.removeWhere = removeWhere;\r\n/**\r\n * Returns a new array which has been removed duplicate items.\r\n * @param array The array to remove duplicate items.\r\n */\r\nfunction unique(array) {\r\n    let set = new Set(array);\r\n    return [...set];\r\n}\r\nexports.unique = unique;\r\n/**\r\n * Creates an array of unique values from given arrays.\r\n * @param arrays The arrays to get union from.\r\n */\r\nfunction union(...arrays) {\r\n    let set = new Set();\r\n    for (let array of arrays) {\r\n        for (let item of array) {\r\n            set.add(item);\r\n        }\r\n    }\r\n    return [...set];\r\n}\r\nexports.union = union;\r\n/**\r\n * Creates an array of unique values that are included in all given arrays.\r\n * @param arrays The arrays to get intersection from.\r\n */\r\nfunction intersect(...arrays) {\r\n    let interset = [];\r\n    if (!arrays.length) {\r\n        return interset;\r\n    }\r\n    let map = new Map();\r\n    for (let item of arrays[0]) {\r\n        map.set(item, 1);\r\n    }\r\n    for (let array of arrays.slice(1)) {\r\n        for (let item of array) {\r\n            if (map.has(item)) {\r\n                map.set(item, map.get(item) + 1);\r\n            }\r\n        }\r\n    }\r\n    for (let [item, count] of map.entries()) {\r\n        if (count === arrays.length) {\r\n            interset.push(item);\r\n        }\r\n    }\r\n    return interset;\r\n}\r\nexports.intersect = intersect;\r\n/**\r\n * Creates an array from given array but exclude items in excludeArrays.\r\n * @param array The array to include items.\r\n * @param excludeArrays The arrays to exclude items from.\r\n */\r\nfunction difference(array, ...excludeArrays) {\r\n    let set = new Set(array);\r\n    for (let difArray of excludeArrays) {\r\n        for (let item of difArray) {\r\n            set.delete(item);\r\n        }\r\n    }\r\n    return [...set];\r\n}\r\nexports.difference = difference;\r\nclass Order {\r\n    /**\r\n     * Create an order rule, used in `orderBy`, and can also be used to binary search from or binary insert into array with object type items\r\n     * @param orders Rest arguments of type `key` or `OrderFunction` which will return a `key`, or [`key` / `OrderFunction`, `OrderDirection`].\r\n     */\r\n    constructor(firstOrder, ...orders) {\r\n        this.orders = [];\r\n        for (let order of [firstOrder, ...orders]) {\r\n            if (['string', 'number', 'function'].includes(typeof order)) {\r\n                this.orders.push([order, 1]);\r\n            }\r\n            else if (Array.isArray(order) && ['string', 'number', 'function'].includes(typeof order[0])) {\r\n                this.orders.push([order[0], order[1] === -1 || order[1] === 'desc' ? -1 : 1]);\r\n            }\r\n            else {\r\n                throw new Error(JSON.stringify(orders) + ' doesn\\'t specify any valid key or order.');\r\n            }\r\n        }\r\n    }\r\n    sortArray(array) {\r\n        array.sort((a, b) => this.compare(a, b));\r\n    }\r\n    compare(a, b) {\r\n        for (let [keyOrFn, order] of this.orders) {\r\n            let ai;\r\n            let bi;\r\n            if (typeof keyOrFn === 'function') {\r\n                ai = keyOrFn(a);\r\n                bi = keyOrFn(b);\r\n            }\r\n            else {\r\n                ai = a[keyOrFn];\r\n                bi = b[keyOrFn];\r\n            }\r\n            if (ai < bi) {\r\n                return -order;\r\n            }\r\n            if (ai > bi) {\r\n                return order;\r\n            }\r\n            if (ai !== bi) {\r\n                return ai === null || ai === undefined ? -order : order;\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n    binaryInsert(array, item) {\r\n        let index = this.binaryFindIndexToInsert(array, item);\r\n        array.splice(index, 0, item);\r\n        return array;\r\n    }\r\n    binaryFindIndexToInsert(array, item) {\r\n        if (array.length === 0) {\r\n            return 0;\r\n        }\r\n        let compareResult = this.compare(item, array[0]);\r\n        if (compareResult === 0 || compareResult === -1) {\r\n            return 0;\r\n        }\r\n        if (array.length === 1) {\r\n            return 1;\r\n        }\r\n        compareResult = this.compare(item, array[array.length - 1]);\r\n        if (compareResult === 0) {\r\n            return array.length - 1;\r\n        }\r\n        if (compareResult === 1) {\r\n            return array.length;\r\n        }\r\n        let start = 0;\r\n        let end = array.length - 1;\r\n        while (end - start > 1) {\r\n            let center = Math.floor((end + start) / 2);\r\n            let compareResult = this.compare(item, array[center]);\r\n            if (compareResult === 0) {\r\n                return center;\r\n            }\r\n            else if (compareResult === -1) {\r\n                end = center;\r\n            }\r\n            else {\r\n                start = center;\r\n            }\r\n        }\r\n        return end;\r\n    }\r\n    binaryFindIndex(array, item) {\r\n        let index = this.binaryFindIndexToInsert(array, item);\r\n        if (index < array.length && this.compare(item, array[index]) === 0) {\r\n            return index;\r\n        }\r\n        return -1;\r\n    }\r\n}\r\nexports.Order = Order;\r\nfunction orderBy(array, order, ...orders) {\r\n    order = order instanceof Order ? order : new Order(order, ...orders);\r\n    order.sortArray(array);\r\n    return array;\r\n}\r\nexports.orderBy = orderBy;\r\n/**\r\n * Create a map object composed of `[key, value]` touples that returned from fn.\r\n * @param array The array to generate map object.\r\n * @param fn The function to return `[key, value]` tuple for each item.\r\n */\r\n// Compar to map, object has same performance, and is more convinent to use, but will lose number key type.\r\nfunction indexBy(array, fn) {\r\n    let index = {};\r\n    for (let i = 0, len = array.length; i < len; i++) {\r\n        let item = array[i];\r\n        let [key, value] = fn(item, i);\r\n        index[key] = value;\r\n    }\r\n    return index;\r\n}\r\nexports.indexBy = indexBy;\r\n/**\r\n * Create a map object composed of keys generated from `keyOrFn` and original values.\r\n * @param array The array to generate key map object.\r\n * @param keyOrFn The key attribute name of each item whose related value will be used as key. or the function which accepts each item as argument and returns a key.\r\n */\r\nfunction keyBy(array, keyOrFn) {\r\n    let index = {};\r\n    for (let item of array) {\r\n        let key;\r\n        if (typeof keyOrFn === 'function') {\r\n            key = keyOrFn(item);\r\n        }\r\n        else {\r\n            key = item[keyOrFn];\r\n        }\r\n        index[key] = item;\r\n    }\r\n    return index;\r\n}\r\nexports.keyBy = keyBy;\r\n/**\r\n * Creates a map object composed of keys generated from the results of running each element of collecti\r\n * @param array The array to group by.\r\n * @param keyOrFn The key attribute name of each item whose related value will be used as key. or the function which accepts each item as argument and returns a key.\r\n */\r\nfunction groupBy(array, keyOrFn) {\r\n    let index = {};\r\n    for (let item of array) {\r\n        let key;\r\n        if (typeof keyOrFn === 'function') {\r\n            key = keyOrFn(item);\r\n        }\r\n        else {\r\n            key = item[keyOrFn];\r\n        }\r\n        let group = index[key] || (index[key] = []);\r\n        group.push(item);\r\n    }\r\n    return index;\r\n}\r\nexports.groupBy = groupBy;\r\n/**\r\n * Group and aggregate items in array by aggregate function\r\n * @param array The array to aggregate.\r\n * @param keyOrFn The key attribute name of each item whose related value will be used as key. or the function which accepts each item as argument and returns a key.\r\n * @param aggregateFn The aggregate function which accepts grouped items and key as arguments, and returns aggregate value.\r\n */\r\nfunction aggregate(array, keyOrFn, aggregateFn) {\r\n    let index = groupBy(array, keyOrFn);\r\n    return indexBy(Object.keys(index), (key) => {\r\n        return [key, aggregateFn(index[key], key)];\r\n    });\r\n}\r\nexports.aggregate = aggregate;\r\n/**\r\n * Returns the length of the array.\r\n * @param array The array to count length.\r\n */\r\n// Can't use `array: unknown` here, or it will cause `Item` in `aggregate` was inferred as `unknown` and make `CanSortKeys<Item>` not work.\r\nfunction count(array) {\r\n    return array.length;\r\n}\r\nexports.count = count;\r\n/**\r\n * Returns the sum of the array items.\r\n * @param array The array of numbers.\r\n */\r\nfunction sum(array) {\r\n    return array.reduce((v1, v2) => v1 + v2, 0);\r\n}\r\nexports.sum = sum;\r\n/**\r\n * Returns the average value of the array items. returns 0 if no items in array.\r\n * @param array The array of numbers.\r\n */\r\nfunction avg(array) {\r\n    if (array.length === 0) {\r\n        return 0;\r\n    }\r\n    return sum(array) / array.length;\r\n}\r\nexports.avg = avg;\r\n/**\r\n * Returns the maximun value of the array items. returns -Infinity if no items in array.\r\n * @param array The array of numbers.\r\n */\r\nfunction max(array) {\r\n    return Math.max(...array);\r\n}\r\nexports.max = max;\r\n/**\r\n * Returns the maximun value of the array items. returns Infinity if no items in array.\r\n * @param array The array of numbers.\r\n */\r\nfunction min(array) {\r\n    return Math.min(...array);\r\n}\r\nexports.min = min;\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst duration_1 = require(\"./duration\");\r\nexports.dateUnits = 'yMdhms';\r\n/**\r\n * Get one of the date value by the unit type.\r\n * @param date The date object to get value from.\r\n * @param unit The unit type, must be one of `'y', 'M', 'd', 'h', 'm', 's'`.\r\n */\r\nfunction getDateByUnit(date, unit) {\r\n    switch (unit) {\r\n        case 'y':\r\n            return date.getFullYear();\r\n        case 'M':\r\n            return date.getMonth();\r\n        case 'd':\r\n            return date.getDate();\r\n        case 'h':\r\n            return date.getHours();\r\n        case 'm':\r\n            return date.getMinutes();\r\n        case 's':\r\n            return date.getSeconds();\r\n        default:\r\n            throw new Error(`\"${unit}\" is not a valid date unit`);\r\n    }\r\n}\r\nexports.getDateByUnit = getDateByUnit;\r\n/**\r\n * Set one of the date value by the unit type.\r\n * @param date The date object to set value.\r\n * @param value The date value to set.\r\n * @param unit The unit type, must be one of `'y', 'M', 'd', 'h', 'm', 's'`.\r\n */\r\nfunction setDateByUnit(date, value, unit) {\r\n    switch (unit) {\r\n        case 'y':\r\n            return date.setFullYear(value);\r\n        case 'M':\r\n            return date.setMonth(value);\r\n        case 'd':\r\n            return date.setDate(value);\r\n        case 'h':\r\n            return date.setHours(value);\r\n        case 'm':\r\n            return date.setMinutes(value);\r\n        case 's':\r\n            return date.setSeconds(value);\r\n        default:\r\n            throw new Error(`\"${unit}\" is not a valid date unit`);\r\n    }\r\n}\r\nexports.setDateByUnit = setDateByUnit;\r\n/**\r\n * Returns if date values from year to seconds are associated with a real existed date.\r\n * @param y Year count.\r\n * @param M Month count.\r\n * @param d Date count.\r\n * @param h Hour count.\r\n * @param m Minute count.\r\n * @param s Second count.\r\n */\r\nfunction isValidDate(y, M, d = 1, h = 0, m = 0, s = 0) {\r\n    let date = new Date(y, M, d, h, m, s);\r\n    return y === date.getFullYear() &&\r\n        M === date.getMonth() &&\r\n        d === date.getDate() &&\r\n        h === date.getHours() &&\r\n        m === date.getMinutes() &&\r\n        s === date.getSeconds();\r\n}\r\nexports.isValidDate = isValidDate;\r\n/**\r\n * Returns if the year of date is a leap year, which contains 366 days.\r\n * @param date The date to test.\r\n */\r\nfunction isLeapYear(date) {\r\n    let year = date.getFullYear();\r\n    return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\r\n}\r\nexports.isLeapYear = isLeapYear;\r\n/**\r\n * Returns the days in the year from a date, which is 366 for leap year, 355 otherwise.\r\n * @param date The date to get days from.\r\n */\r\nfunction getDaysOfYear(date) {\r\n    return isLeapYear(date) ? 366 : 365;\r\n}\r\nexports.getDaysOfYear = getDaysOfYear;\r\n/**\r\n * Returns the days in the month from a date, which betweens 28-31.\r\n * @param date The date to get days from.\r\n */\r\nfunction getDaysOfMonth(date) {\r\n    let d = new Date(date.getTime());\r\n    d.setDate(32);\r\n    return 32 - d.getDate();\r\n}\r\nexports.getDaysOfMonth = getDaysOfMonth;\r\n/**\r\n * Clone a date. Can specified `units` to partly clone.\r\n * @param date The date to clone, default value is current date.\r\n * @param units The units to partly clone.\r\n */\r\nfunction cloneDate(date = new Date(), units = exports.dateUnits) {\r\n    let dateValues = [...exports.dateUnits].map(unit => {\r\n        if (units.includes(unit)) {\r\n            return getDateByUnit(date, unit);\r\n        }\r\n        else {\r\n            return unit === 'd' ? 1 : 0;\r\n        }\r\n    });\r\n    return new Date(dateValues[0], dateValues[1], dateValues[2], dateValues[3], dateValues[4], dateValues[5]);\r\n}\r\nexports.cloneDate = cloneDate;\r\n/**\r\n * Add duration string to a date and returns a new date.\r\n * @param date The date to add duration.\r\n * @param duration The duration string to add to date.\r\n */\r\nfunction addDurationToDate(date, duration) {\r\n    let isMinus = duration[0] === '-';\r\n    if (isMinus) {\r\n        duration = duration.slice(1);\r\n    }\r\n    let flag = isMinus ? -1 : 1;\r\n    let o = duration_1.parseDurationToObject(duration);\r\n    let newDate = new Date(date);\r\n    for (let unit of Object.keys(o)) {\r\n        let value = getDateByUnit(newDate, unit) + o[unit] * flag;\r\n        setDateByUnit(newDate, value, unit);\r\n    }\r\n    return newDate;\r\n}\r\nexports.addDurationToDate = addDurationToDate;\r\n/**\r\n * Returns a formatted date string.\r\n * @param date The date to format.\r\n * @param format The date format, default value is `'yyyy/MM/dd hh:mm:ss'`.\r\n */\r\nfunction formatDate(date, format = 'yyyy/MM/dd hh:mm:ss') {\r\n    return format.replace(/y+|M+|d+|h+|m+|s+/g, m0 => {\r\n        let unit = m0[0];\r\n        let value = getDateByUnit(date, unit[0]);\r\n        if (unit === 'M') {\r\n            value += 1;\r\n        }\r\n        return String(value).padStart(m0.length, '0');\r\n    });\r\n}\r\nexports.formatDate = formatDate;\r\n/**\r\n * Returns a short type formatted date string.\r\n * @param date The date to format.\r\n * @param format The format object to use, default value is `{y: 'yyyy/MM/dd hh:mm', M: 'MM/dd hh:mm', h: 'hh:mm'}`.\r\n */\r\nfunction formatToShort(date, format = { y: 'yyyy/MM/dd hh:mm', M: 'MM/dd hh:mm', h: 'hh:mm' }) {\r\n    let now = new Date();\r\n    let hasDifferentUnit = false;\r\n    let matchFormat = Object.values(format)[0];\r\n    for (let unit of exports.dateUnits) {\r\n        hasDifferentUnit = hasDifferentUnit || getDateByUnit(date, unit) !== getDateByUnit(now, unit);\r\n        matchFormat = format[unit] || matchFormat;\r\n        if (hasDifferentUnit) {\r\n            break;\r\n        }\r\n    }\r\n    return formatDate(date, matchFormat);\r\n}\r\nexports.formatToShort = formatToShort;\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst string_1 = require(\"./string\");\r\nconst date_1 = require(\"./date\");\r\nconst DATE_UNIT_SECONDS = {\r\n    y: 365 * 24 * 60 * 60,\r\n    M: 30 * 24 * 60 * 60,\r\n    w: 7 * 24 * 60 * 60,\r\n    d: 24 * 60 * 60,\r\n    h: 60 * 60,\r\n    m: 60,\r\n    s: 1,\r\n};\r\n/**\r\n * Parse duration string like `1h1m` or `01:01:00` to object `{y, M, d, h, m, s}`.\r\n * @param duration string like `1h1m` or `01:01:00`.\r\n */\r\nfunction parseDurationToObject(duration) {\r\n    let o = {\r\n        y: 0,\r\n        M: 0,\r\n        d: 0,\r\n        h: 0,\r\n        m: 0,\r\n        s: 0,\r\n    };\r\n    if (duration.includes(':')) {\r\n        let [h, m, s] = string_1.subMatches(duration, /(?:(\\d\\d):)?(\\d\\d):(\\d\\d(?:\\.\\d+)?)/).map(v => Number(v) || 0);\r\n        o.h = h;\r\n        o.m = m;\r\n        o.s = s;\r\n    }\r\n    else {\r\n        let matches = string_1.subMatches(duration, /(\\d+(?:\\.\\d+)?) ?([yMwdhms])/g);\r\n        for (let [count, unit] of matches) {\r\n            o[unit] = Number(count);\r\n        }\r\n    }\r\n    return o;\r\n}\r\nexports.parseDurationToObject = parseDurationToObject;\r\n/**\r\n * Parse duration string like `1h1m` or `01:01:00` to second count.\r\n * @param duration string like `1h1m` or `01:01:00`.\r\n */\r\nfunction parseDurationToSeconds(duration) {\r\n    let o = parseDurationToObject(duration);\r\n    let seconds = 0;\r\n    for (let unit of Object.keys(o)) {\r\n        let count = o[unit];\r\n        seconds += count * DATE_UNIT_SECONDS[unit];\r\n    }\r\n    return seconds;\r\n}\r\nexports.parseDurationToSeconds = parseDurationToSeconds;\r\n/**\r\n * Parse second count to duration object `{y, M, d, h, m, s}`.\r\n * @param seconds The second count.\r\n * @param units The unit to use when parsing, default value is `yMdhms`.\r\n */\r\nfunction parseSecondsToDurationObject(seconds, units = date_1.dateUnits) {\r\n    let o = {\r\n        y: 0,\r\n        M: 0,\r\n        d: 0,\r\n        h: 0,\r\n        m: 0,\r\n        s: 0,\r\n    };\r\n    for (let unit of units) {\r\n        let unitValue = DATE_UNIT_SECONDS[unit];\r\n        let count = Math.floor(seconds / unitValue);\r\n        if (count > 0) {\r\n            o[unit] = count;\r\n            seconds = seconds % unitValue;\r\n        }\r\n    }\r\n    return o;\r\n}\r\nexports.parseSecondsToDurationObject = parseSecondsToDurationObject;\r\n/**\r\n * Format second count to duration string like `1h1m`.\r\n * @param units Date unit types like `yMdhms`. Can only specify partial date units like `Md`.\r\n * @param maxOutputUnitCount Maximun unit count of the duration string. E.g., sepcify to `2` to output like `1y1M`, `1M1d`, `1d1h`, `1s`.\r\n */\r\nfunction formatSecondsToDuration(seconds, units = date_1.dateUnits, maxOutputUnitCount = units.length) {\r\n    let o = parseSecondsToDurationObject(seconds, units);\r\n    let duration = '';\r\n    let outputUnitCount = 0;\r\n    for (let unit of Object.keys(o)) {\r\n        let count = o[unit];\r\n        if (count > 0) {\r\n            duration += count + unit;\r\n            outputUnitCount++;\r\n        }\r\n        if (outputUnitCount >= maxOutputUnitCount) {\r\n            break;\r\n        }\r\n    }\r\n    return duration;\r\n}\r\nexports.formatSecondsToDuration = formatSecondsToDuration;\r\n/**\r\n * Format second count to time string like `01:01:01`.\r\n * @param seconds The second count.\r\n */\r\nfunction formatSecondsToTime(seconds) {\r\n    let h = Math.floor(seconds / 3600);\r\n    let m = Math.floor(seconds % 3600 / 60) || 0;\r\n    let s = Math.floor(seconds % 60) || 0;\r\n    return (h ? String(h).padStart(2, '0') + ':' : '')\r\n        + String(m).padStart(2, '0') + ':'\r\n        + String(s).padStart(2, '0');\r\n}\r\nexports.formatSecondsToTime = formatSecondsToTime;\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/** An event emitter to listen and emit events. */\r\nclass Emitter {\r\n    constructor() {\r\n        this._events = {};\r\n    }\r\n    /**\r\n     * Register listener for specified event name.\r\n     * @param name The event name.\r\n     * @param listener The event listener.\r\n     * @param scope The scope will be binded to listener.\r\n     */\r\n    on(name, listener, scope) {\r\n        let events = this._events[name] || (this._events[name] = []);\r\n        events.push({\r\n            listener,\r\n            scope,\r\n            once: false,\r\n        });\r\n    }\r\n    /**\r\n     * Register listener for specified event name for only once.\r\n     * @param name The event name.\r\n     * @param listener The event listener.\r\n     * @param scope The scope will be binded to listener.\r\n     */\r\n    once(name, listener, scope) {\r\n        let events = this._events[name] || (this._events[name] = []);\r\n        events.push({\r\n            listener,\r\n            scope,\r\n            once: true\r\n        });\r\n    }\r\n    /**\r\n     * Stop listening specified event.\r\n     * @param name The event name.\r\n     * @param listener The event listener, only matched listener will be removed.\r\n     * @param scope The scope binded to listener. If provided, remove listener only when scope match.\r\n     */\r\n    off(name, listener, scope) {\r\n        let events = this._events[name];\r\n        if (events) {\r\n            for (let i = events.length - 1; i >= 0; i--) {\r\n                let event = events[i];\r\n                if (event.listener === listener && (!scope || event.scope === scope)) {\r\n                    events.splice(i, 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Check if registered listener for specified event.\r\n     * @param name The event name.\r\n     * @param listener The event listener. If provided, will also check if the listener match.\r\n     * @param scope The scope binded to listener. If provided, will additionally check if the scope match.\r\n     */\r\n    hasListener(name, listener, scope) {\r\n        let events = this._events[name];\r\n        if (!listener) {\r\n            return !!events && events.length > 0;\r\n        }\r\n        else if (events && listener) {\r\n            for (let i = 0, len = events.length; i < len; i++) {\r\n                let event = events[i];\r\n                if (event.listener === listener && (!scope || event.scope === scope)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * Emit specified event with followed arguments.\r\n     * @param name The event name.\r\n     * @param args The arguments that will be passed to event listeners.\r\n     */\r\n    emit(name, ...args) {\r\n        let events = this._events[name];\r\n        if (events) {\r\n            for (let i = 0; i < events.length; i++) {\r\n                let event = events[i];\r\n                // The listener may call off, so must remove it before handling\r\n                if (event.once === true) {\r\n                    events.splice(i--, 1);\r\n                }\r\n                event.listener.apply(event.scope, args);\r\n            }\r\n        }\r\n    }\r\n    /** Remove all event listeners */\r\n    removeAllListeners() {\r\n        this._events = {};\r\n    }\r\n}\r\nexports.Emitter = Emitter;\r\n",
    "\"use strict\";\r\n/*Polyfill for parts of ECMAScript 2017+, which is not widely supported by modern browsers*/\r\nif (!String.prototype.padStart) {\r\n    Object.defineProperty(String.prototype, 'padStart', {\r\n        value: function (length, fillString) {\r\n            let len = this.length;\r\n            let lenPad = fillString.length;\r\n            if (length < len || !lenPad) {\r\n                return String(this);\r\n            }\r\n            else {\r\n                let repeatCount = Math.floor((length - len) / lenPad);\r\n                let additionStr = fillString.slice(0, length - len - repeatCount * lenPad);\r\n                return fillString.repeat(repeatCount) + additionStr + this;\r\n            }\r\n        }\r\n    });\r\n}\r\nif (!String.prototype.padEnd) {\r\n    Object.defineProperty(String.prototype, 'padEnd', {\r\n        value: function (length, fillString) {\r\n            let len = this.length;\r\n            let lenPad = fillString.length;\r\n            if (length < len || !lenPad) {\r\n                return String(this);\r\n            }\r\n            else {\r\n                let repeatCount = Math.floor((length - len) / lenPad);\r\n                let additionStr = fillString.slice(0, length - len - repeatCount * lenPad);\r\n                return this + fillString.repeat(repeatCount) + additionStr;\r\n            }\r\n        }\r\n    });\r\n}\r\n// Still a proposal, but I love it.\r\nif (!RegExp.escape) {\r\n    Object.defineProperty(RegExp, 'escape', {\r\n        value: function (source) {\r\n            return source.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\r\n        }\r\n    });\r\n}\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass TimedFunction {\r\n    constructor(fn, ms) {\r\n        this.id = null;\r\n        /** Returns if the timed function been canceled. */\r\n        this.canceled = false;\r\n        this.fn = fn;\r\n        this.ms = ms;\r\n    }\r\n}\r\nexports.TimedFunction = TimedFunction;\r\nclass WrappedTimedFunction extends TimedFunction {\r\n    constructor(fn, ms) {\r\n        super(fn, ms);\r\n        this.wrapped = this.wrap();\r\n    }\r\n}\r\nexports.WrappedTimedFunction = WrappedTimedFunction;\r\nclass Timeout extends TimedFunction {\r\n    /**\r\n     * Just like setTimeout, call `fn` after `ms` millisecons.\r\n     * @param fn The function to call later.\r\n     * @param ms The timeout time in millisecons.\r\n     */\r\n    constructor(fn, ms) {\r\n        super(fn, ms);\r\n        this.reset();\r\n    }\r\n    /** Restart timeout, although it was been called. always returns true. */\r\n    reset() {\r\n        if (this.id) {\r\n            clearTimeout(this.id);\r\n        }\r\n        this.id = setTimeout(this.onTimeout.bind(this), this.ms);\r\n        return true;\r\n    }\r\n    onTimeout() {\r\n        this.id = null;\r\n        this.fn();\r\n    }\r\n    /** Call deferred function immediately if it wasn't been called and returns true. otherwise returns false. */\r\n    flush() {\r\n        if (!this.id) {\r\n            return false;\r\n        }\r\n        clearTimeout(this.id);\r\n        this.id = null;\r\n        this.fn();\r\n        return true;\r\n    }\r\n    /** Cancel deferred function, returns if it was canceled before been called. */\r\n    cancel() {\r\n        if (!this.id) {\r\n            return false;\r\n        }\r\n        clearTimeout(this.id);\r\n        this.id = null;\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * Just like setTimeout, call `fn` after `ms` millisecons.\r\n * @param fn The function to call later.\r\n * @param ms The timeout time in millisecons.\r\n */\r\nfunction timeout(fn, ms = 0) {\r\n    return new Timeout(fn, ms);\r\n}\r\nexports.timeout = timeout;\r\nclass Interval extends TimedFunction {\r\n    /**\r\n     * Just like setInterval, call `fn` every `ms` millisecons.\r\n     * @param fn The function to call.\r\n     * @param ms The interval time in millisecons.\r\n     */\r\n    constructor(fn, ms) {\r\n        super(fn, ms);\r\n        this.reset();\r\n    }\r\n    /** Restart interval, although it was been canceled. always returns true. */\r\n    reset() {\r\n        if (this.id) {\r\n            clearInterval(this.id);\r\n        }\r\n        this.id = setInterval(this.onInterval.bind(this), this.ms);\r\n        return true;\r\n    }\r\n    onInterval() {\r\n        this.fn();\r\n    }\r\n    /** Call interval function immediately if it wasn't been canceled and returns true. otherwise returns false. */\r\n    flush() {\r\n        if (!this.id) {\r\n            return false;\r\n        }\r\n        this.fn();\r\n        this.reset();\r\n        return true;\r\n    }\r\n    /** Cancel interval function, returns if it was canceled before been called. */\r\n    cancel() {\r\n        if (!this.id) {\r\n            return false;\r\n        }\r\n        clearInterval(this.id);\r\n        this.id = null;\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * Just like setInterval, call `fn` every `ms` millisecons.\r\n * @param fn The function to call.\r\n * @param ms The interval time in millisecons.\r\n */\r\nfunction interval(fn, ms) {\r\n    return new Interval(fn, ms);\r\n}\r\nexports.interval = interval;\r\nclass Throttle extends WrappedTimedFunction {\r\n    /**\r\n     * Throttle function calls, call returned function twice in `ms` millisecons will only call `fn` for once. Returns a new function.\r\n     * @param fn The function to throttle.\r\n     * @param ms The time period in which only at most one call allowed.\r\n     */\r\n    constructor(fn, ms) {\r\n        super(fn, ms);\r\n    }\r\n    wrap() {\r\n        let me = this;\r\n        return function (...args) {\r\n            if (me.canceled) {\r\n                me.fn.apply(this, args);\r\n                return;\r\n            }\r\n            if (!me.id) {\r\n                me.id = setTimeout(me.onTimeout.bind(me), me.ms);\r\n                me.fn.apply(this, args);\r\n            }\r\n        };\r\n    }\r\n    onTimeout() {\r\n        this.id = null;\r\n    }\r\n    /** Reset throttle timeout, function will be called immediately next time. Will restart throttle if been canceled. */\r\n    reset() {\r\n        if (this.id) {\r\n            clearTimeout(this.id);\r\n            this.id = null;\r\n        }\r\n        this.canceled = false;\r\n        return true;\r\n    }\r\n    /** Do nothing, always return false. */\r\n    flush() {\r\n        return false;\r\n    }\r\n    /** Cancel throttle, function will be called without limit. Returns true if is not canceled before. */\r\n    cancel() {\r\n        if (this.canceled) {\r\n            return false;\r\n        }\r\n        this.canceled = true;\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * Throttle function calls, call returned function twice in `ms` millisecons will only call `fn` for once. Returns a new function.\r\n * @param fn The function to throttle.\r\n * @param ms The time period in which only at most one call allowed.\r\n */\r\nfunction throttle(fn, ms) {\r\n    return new Throttle(fn, ms);\r\n}\r\nexports.throttle = throttle;\r\nclass SmoothThrottle extends WrappedTimedFunction {\r\n    /**\r\n     * Throttle function calls like `throttle`, but will calls `fn` lazily and smooth. Returns a new function.\r\n     * @param fn The function to throttle.\r\n     * @param ms The time period in which only at most one call allowed.\r\n     */\r\n    constructor(fn, ms) {\r\n        super(fn, ms);\r\n        this.lastArgs = null;\r\n        this.lastThis = null;\r\n        this.wrapped = this.wrap();\r\n    }\r\n    wrap() {\r\n        let me = this;\r\n        return function (...args) {\r\n            if (me.canceled) {\r\n                me.fn.apply(this, args);\r\n                return;\r\n            }\r\n            me.lastArgs = args;\r\n            me.lastThis = this;\r\n            if (!me.id) {\r\n                me.id = setTimeout(me.onTimeout.bind(me), me.ms);\r\n            }\r\n        };\r\n    }\r\n    onTimeout() {\r\n        if (this.lastArgs) {\r\n            this.fn.apply(this.lastThis, this.lastArgs);\r\n            this.lastArgs = null;\r\n            this.lastThis = null;\r\n            this.id = setTimeout(this.onTimeout.bind(this), this.ms);\r\n        }\r\n        else {\r\n            this.id = null;\r\n        }\r\n    }\r\n    /** Reset throttle timeout and discard deferred call, Will restart throttle if been canceled. */\r\n    reset() {\r\n        if (this.id) {\r\n            clearTimeout(this.id);\r\n            this.id = null;\r\n        }\r\n        this.lastArgs = null;\r\n        this.lastThis = null;\r\n        this.canceled = false;\r\n        return true;\r\n    }\r\n    /** Call function immediately if there is a deferred call, and restart throttle timeout. */\r\n    flush() {\r\n        if (this.lastArgs) {\r\n            this.id = setTimeout(this.onTimeout.bind(this), this.ms);\r\n            this.fn.apply(this.lastThis, this.lastArgs);\r\n            this.lastArgs = null;\r\n            this.lastThis = null;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /** Cancel throttle, function will be called without limit. Returns true if is not canceled before. */\r\n    cancel() {\r\n        if (this.canceled) {\r\n            return false;\r\n        }\r\n        this.canceled = true;\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * Throttle function calls like `throttle`, but will call `fn` lazily and smooth. Returns a new function.\r\n * @param fn The function to throttle.\r\n * @param ms The time period in which only at most one call allowed.\r\n */\r\nfunction smoothThrottle(fn, ms) {\r\n    return new SmoothThrottle(fn, ms);\r\n}\r\nexports.smoothThrottle = smoothThrottle;\r\nclass Debounce extends WrappedTimedFunction {\r\n    /**\r\n     * Debounce function calls, call returned function for the second time in timeout period that specified by `ms` will not call `fn`. Will restart the timeout every time calling return function. Returns a new function.\r\n     * @param fn The function to debounce.\r\n     * @param ms The timeout in milliseconds.\r\n     */\r\n    constructor(fn, ms) {\r\n        super(fn, ms);\r\n        this.lastArgs = null;\r\n        this.lastThis = null;\r\n        this.wrapped = this.wrap();\r\n    }\r\n    wrap() {\r\n        let me = this;\r\n        return function (...args) {\r\n            if (me.canceled) {\r\n                me.fn.apply(this, args);\r\n                return;\r\n            }\r\n            if (me.id) {\r\n                clearTimeout(me.id);\r\n            }\r\n            me.id = setTimeout(me.onTimeout.bind(me), me.ms);\r\n            me.lastArgs = args;\r\n            me.lastThis = this;\r\n        };\r\n    }\r\n    onTimeout() {\r\n        this.id = null;\r\n        if (this.lastArgs) {\r\n            this.fn.apply(this.lastThis, this.lastArgs);\r\n            this.lastArgs = null;\r\n            this.lastThis = null;\r\n        }\r\n    }\r\n    /** Reset debounce timeout and discard deferred call. Will restart debounce if been canceled. */\r\n    reset() {\r\n        if (this.id) {\r\n            clearTimeout(this.id);\r\n            this.id = null;\r\n        }\r\n        this.lastArgs = null;\r\n        this.lastThis = null;\r\n        return true;\r\n    }\r\n    /** Call function immediately there is a deferred call, and restart debounce timeout. */\r\n    flush() {\r\n        if (this.id) {\r\n            clearTimeout(this.id);\r\n            this.id = 0;\r\n        }\r\n        if (this.lastArgs) {\r\n            this.fn.apply(this.lastThis, this.lastArgs);\r\n            this.lastArgs = null;\r\n            this.lastThis = null;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /** Cancel debounce, function will be called without limit. Returns true if is not canceled before. */\r\n    cancel() {\r\n        if (this.canceled) {\r\n            return false;\r\n        }\r\n        this.canceled = true;\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * Debounce function calls, call returned function for the second time in timeout period that specified by `ms` will not call `fn`. Will restart the timeout every time calling return function. Returns a new function.\r\n * @param fn The function to debounce.\r\n * @param ms The timeout in milliseconds.\r\n */\r\nfunction debounce(fn, ms) {\r\n    return new Debounce(fn, ms);\r\n}\r\nexports.debounce = debounce;\r\n",
    "\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nrequire(\"./es-polyfill\");\r\n__export(require(\"./object\"));\r\n__export(require(\"./array\"));\r\n__export(require(\"./string\"));\r\n__export(require(\"./number\"));\r\n__export(require(\"./function\"));\r\n__export(require(\"./time\"));\r\n__export(require(\"./duration\"));\r\n__export(require(\"./date\"));\r\n__export(require(\"./emitter\"));\r\n__export(require(\"./queue\"));\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Like the opposite of toFixed, but it supports both positive and negative power, and always returns a number.\r\n * @param number The number to fix.\r\n * @param power The power that the number will correct to.\r\n */\r\nfunction toPower(number, power = 0) {\r\n    let maxPower = Math.floor(Math.log(number) / Math.log(10));\r\n    power = Math.min(maxPower, power);\r\n    if (power > 0) {\r\n        let n = Math.pow(10, power);\r\n        return Math.round(number / n) * n;\r\n    }\r\n    // This can avoid the `0.1 + 0.2 != 0.3`\r\n    else {\r\n        let n = Math.pow(10, -power);\r\n        return Math.round(number * n) / n;\r\n    }\r\n}\r\nexports.toPower = toPower;\r\n/**\r\n * Like a % b, but always returns positive number.\r\n * @param number The number to calculate modulo.\r\n * @param modulo The modulo of number.\r\n */\r\nfunction mod(number, modulo) {\r\n    return (number % modulo + Math.abs(modulo)) % modulo;\r\n}\r\nexports.mod = mod;\r\n/**\r\n * Returns a new number which is constrained in a range.\r\n * @param number The number to constrain.\r\n * @param min The minimum number.\r\n * @param max The maximum number.\r\n */\r\nfunction constrain(number, min, max) {\r\n    if (min > max) {\r\n        [min, max] = [max, min];\r\n    }\r\n    if (number < min) {\r\n        number = min;\r\n    }\r\n    else if (number > max) {\r\n        number = max;\r\n    }\r\n    return number;\r\n}\r\nexports.constrain = constrain;\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Assign values from source to target.\r\n * @param target The target that the sources assigned to.\r\n * @param sources The sources that will assigned to target by order.\r\n * @param keys If `keys` is specified, only values whose key in it can be assigned.\r\n */\r\nfunction assign(target, source, keys = Object.keys(source)) {\r\n    for (let key of keys) {\r\n        let value = source[key];\r\n        if (value !== undefined) {\r\n            target[key] = value;\r\n        }\r\n    }\r\n    return target;\r\n}\r\nexports.assign = assign;\r\n// 2x~3x faster than JSON methods, see https://jsperf.com/deep-clone-vs-json-clone\r\n/**\r\n * Deeply clone an object or value\r\n * @param source The source to be clone.\r\n * @param deep Max deep to clone\r\n */\r\nfunction deepClone(source, deep = 10) {\r\n    if (typeof source !== 'object' || !source || deep === 0) {\r\n        return source;\r\n    }\r\n    if (Array.isArray(source)) {\r\n        return source.map(value => {\r\n            if (typeof value !== 'object' || !value) {\r\n                return value;\r\n            }\r\n            else {\r\n                return deepClone(value, deep - 1);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        let cloned = {};\r\n        for (let key of Object.keys(source)) {\r\n            let value = source[key];\r\n            cloned[key] = deepClone(value, deep - 1);\r\n        }\r\n        return cloned;\r\n    }\r\n}\r\nexports.deepClone = deepClone;\r\n// 1x faster than JSON methods, see https://jsperf.com/deep-equal-vs-json-compare\r\n/**\r\n * Deeply compare two objects or values\r\n * @param a left one\r\n * @param b right one\r\n * @param deep Max deep to compare\r\n */\r\nfunction deepEqual(a, b, deep = 10) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    if (deep === 0) {\r\n        return false;\r\n    }\r\n    if (typeof a !== 'object' || typeof b !== 'object' || !a || !b) {\r\n        return false;\r\n    }\r\n    if (a.constructor !== b.constructor) {\r\n        return false;\r\n    }\r\n    let keysA = Object.keys(a);\r\n    let keysB = Object.keys(b);\r\n    if (keysA.length !== keysB.length) {\r\n        return false;\r\n    }\r\n    for (let key of keysA) {\r\n        if (!b.hasOwnProperty(key)) {\r\n            return false;\r\n        }\r\n        let valueA = a[key];\r\n        let valueB = b[key];\r\n        if (!deepEqual(valueA, valueB, deep - 1)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nexports.deepEqual = deepEqual;\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst object_1 = require(\"./object\");\r\nconst array_1 = require(\"./array\");\r\nconst emitter_1 = require(\"./emitter\");\r\nvar QueueState;\r\n(function (QueueState) {\r\n    /** Tasks handling not started. */\r\n    QueueState[QueueState[\"Pending\"] = 0] = \"Pending\";\r\n    /** Any task is running. */\r\n    QueueState[QueueState[\"Running\"] = 1] = \"Running\";\r\n    /** Been paused. */\r\n    QueueState[QueueState[\"Paused\"] = 2] = \"Paused\";\r\n    /** All tasks finshed. */\r\n    QueueState[QueueState[\"Finish\"] = 3] = \"Finish\";\r\n    /** Aborted because of error or by user. */\r\n    QueueState[QueueState[\"Aborted\"] = 4] = \"Aborted\";\r\n})(QueueState = exports.QueueState || (exports.QueueState = {}));\r\nclass Queue extends emitter_1.Emitter {\r\n    constructor(options) {\r\n        super();\r\n        /** Specify how many tasks to run simultaneously. */\r\n        this.concurrency = 10;\r\n        /** If true, will run tasks from head of the queue. */\r\n        this.fifo = true;\r\n        /** If true, will continue handling tasks when error occurs. */\r\n        this.continueOnError = false;\r\n        /**\r\n         * How many times to retry after tasks failed.\r\n         * if one task's retry times execeed, it will never automatically retry, but you can still retry all items by calling `retry()` manually.\r\n         * Setting this option to values `> 0` implies `continueOnError` is true.\r\n         */\r\n        this.maxRetryTimes = 0;\r\n        /** The task array which will be passed to handler in order. */\r\n        this.tasks = [];\r\n        /** Returns current working state. */\r\n        this.state = QueueState.Pending;\r\n        this.seed = 1;\r\n        this.handledCount = 0;\r\n        this.runningItems = [];\r\n        this.failedItems = [];\r\n        this.resumePromise = null;\r\n        this.resumeResolve = null;\r\n        this.handler = options.handler;\r\n        if (options.tasks) {\r\n            this.tasks.push(...options.tasks);\r\n        }\r\n        object_1.assign(this, options, ['concurrency', 'fifo', 'continueOnError', 'maxRetryTimes']);\r\n    }\r\n    /** Returns the tount of total tasks, included handled and unhandled and failed. */\r\n    getTotalCount() {\r\n        return this.getHandledCount() + this.getUnhandledCount() + this.getFailedCount();\r\n    }\r\n    /** Returns the count of handled tasks. */\r\n    getHandledCount() {\r\n        return this.handledCount;\r\n    }\r\n    /** Returns the count of unhandled tasks, not include failed tasks. */\r\n    getUnhandledCount() {\r\n        return this.tasks.length + this.getRunningCount();\r\n    }\r\n    /** Returns the count of running tasks. */\r\n    getRunningCount() {\r\n        return this.runningItems.length;\r\n    }\r\n    /** Returns the count of failed tasks. */\r\n    getFailedCount() {\r\n        return this.failedItems.length;\r\n    }\r\n    /** Returns the unhandled tasks. */\r\n    getUnhandledTasks() {\r\n        return [...this.getRunningTasks(), ...this.tasks];\r\n    }\r\n    /** Returns the running tasks. */\r\n    getRunningTasks() {\r\n        return this.runningItems.map(v => v.task);\r\n    }\r\n    /** Returns the failed tasks. */\r\n    getFailedTasks() {\r\n        return this.failedItems.map(v => v.task);\r\n    }\r\n    /** Start handling tasks. Will emit `finish` event in next tick if no task to run. Returns if true queue started. */\r\n    start() {\r\n        if (this.state === QueueState.Paused) {\r\n            this.resume();\r\n        }\r\n        else if (this.tasks.length > 0) {\r\n            this.state = QueueState.Running;\r\n            this.mayHandleNextTask();\r\n        }\r\n        else {\r\n            Promise.resolve().then(() => this.onFinish());\r\n        }\r\n        return this.state === QueueState.Running;\r\n    }\r\n    /** Pause handling tasks, running tasks will not aborted, but will not emit task events until `resume()`. Returns if paused from running state. */\r\n    pause() {\r\n        if (this.state !== QueueState.Running) {\r\n            return false;\r\n        }\r\n        this.state = QueueState.Paused;\r\n        this.resumePromise = new Promise(resolve => {\r\n            this.resumeResolve = () => {\r\n                this.resumeResolve = null;\r\n                this.resumePromise = null;\r\n                resolve();\r\n            };\r\n        });\r\n        this.emit('pause');\r\n        return true;\r\n    }\r\n    /** Resume handling tasks. Returns if resumed from paused state. */\r\n    resume() {\r\n        if (this.state !== QueueState.Paused) {\r\n            return false;\r\n        }\r\n        this.state = QueueState.Running;\r\n        if (this.resumeResolve) {\r\n            this.resumeResolve();\r\n        }\r\n        this.emit('resume');\r\n        this.mayHandleNextTask();\r\n        return true;\r\n    }\r\n    mayHandleNextTask() {\r\n        // State may change after in event handler, so we need to test state here.\r\n        if (this.state !== QueueState.Running) {\r\n            return;\r\n        }\r\n        while (this.getRunningCount() < this.concurrency && this.tasks.length > 0) {\r\n            let task = this.fifo ? this.tasks.shift() : this.tasks.pop();\r\n            this.handleItem({\r\n                id: this.seed++,\r\n                task,\r\n                retriedTimes: 0,\r\n                abort: null\r\n            });\r\n        }\r\n        if (this.maxRetryTimes > 0 && this.getRunningCount() < this.concurrency && this.failedItems.length) {\r\n            for (let i = 0; i < this.failedItems.length; i++) {\r\n                let item = this.failedItems[i];\r\n                if (item.retriedTimes < this.maxRetryTimes) {\r\n                    item.retriedTimes++;\r\n                    this.failedItems.splice(i--, 1);\r\n                    this.handleItem(item);\r\n                    if (this.getRunningCount() >= this.concurrency) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (this.getRunningCount() === 0) {\r\n            this.onFinish();\r\n        }\r\n    }\r\n    handleItem(item) {\r\n        let { task } = item;\r\n        let onItemFinish = this.onItemFinish.bind(this, item);\r\n        let onItemError = this.onItemError.bind(this, item);\r\n        this.runningItems.push(item);\r\n        let value = this.handler(task);\r\n        if (value && typeof value === 'object' && value.promise instanceof Promise && typeof value.abort === 'function') {\r\n            value.promise.then(onItemFinish, onItemError);\r\n            item.abort = value.abort;\r\n        }\r\n        else if (value instanceof Promise) {\r\n            value.then(onItemFinish, onItemError);\r\n        }\r\n        else {\r\n            Promise.resolve().then(() => onItemFinish(value));\r\n        }\r\n    }\r\n    async onItemFinish(item, value) {\r\n        await this.prepareItem(item);\r\n        if (!this.removeFromRunning(item)) {\r\n            return;\r\n        }\r\n        this.handledCount++;\r\n        if (this.state === QueueState.Running) {\r\n            this.emit('taskfinish', item.task, value);\r\n            this.mayHandleNextTask();\r\n        }\r\n    }\r\n    async onItemError(item, err) {\r\n        await this.prepareItem(item);\r\n        if (!this.removeFromRunning(item)) {\r\n            return;\r\n        }\r\n        this.failedItems.push(item);\r\n        this.emit('error', item.task, err);\r\n        if (!this.continueOnError && this.maxRetryTimes === 0) {\r\n            this.onFatalError(err);\r\n        }\r\n        else {\r\n            this.mayHandleNextTask();\r\n        }\r\n    }\r\n    async prepareItem(item) {\r\n        item.abort = null;\r\n        if (this.resumePromise) {\r\n            await this.resumePromise;\r\n        }\r\n    }\r\n    removeFromRunning(item) {\r\n        let index = this.runningItems.findIndex(v => v.id === item.id);\r\n        if (index > -1) {\r\n            this.runningItems.splice(index, 1);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    onFinish() {\r\n        if (this.state === QueueState.Pending || this.state === QueueState.Running) {\r\n            this.state = QueueState.Finish;\r\n            this.emit('finish');\r\n        }\r\n    }\r\n    onFatalError(err) {\r\n        this.abort(err);\r\n    }\r\n    /** Retry all failed tasks immediately, ignore their retried times count. Returns if has failed tasks and queue started. */\r\n    retry() {\r\n        let hasFailedTasks = this.getFailedCount() > 0;\r\n        if (hasFailedTasks) {\r\n            this.tasks.push(...this.getFailedTasks());\r\n            this.failedItems = [];\r\n        }\r\n        let started = this.start();\r\n        return started && hasFailedTasks;\r\n    }\r\n    /**\r\n     * Abort queue and all running tasks. After aborted, queue ca still be started by calling `start()`.\r\n     * Returns if queue was successfully aborted.\r\n     */\r\n    abort(err = 'manually') {\r\n        if (!(this.state === QueueState.Running || this.state === QueueState.Paused)) {\r\n            return false;\r\n        }\r\n        this.state = QueueState.Aborted;\r\n        this.failedItems.push(...this.runningItems);\r\n        this.abortRunningItems();\r\n        this.emit('abort', err);\r\n        return true;\r\n    }\r\n    abortRunningItems() {\r\n        this.runningItems.map(item => this.abortItem(item));\r\n        this.runningItems = [];\r\n    }\r\n    abortItem(item) {\r\n        let { task, abort } = item;\r\n        if (abort) {\r\n            abort();\r\n        }\r\n        this.emit('taskabort', task);\r\n    }\r\n    /** End queue, abort all running tasks and clear all tasks and handling records. */\r\n    clear() {\r\n        if (!(this.state === QueueState.Running || this.state === QueueState.Paused)) {\r\n            return false;\r\n        }\r\n        this.state = QueueState.Finish;\r\n        this.tasks = [];\r\n        this.failedItems = [];\r\n        this.handledCount = 0;\r\n        this.abortRunningItems();\r\n        if (this.resumeResolve) {\r\n            this.resumeResolve();\r\n        }\r\n        return true;\r\n    }\r\n    /** Push tasks to queue. */\r\n    push(...tasks) {\r\n        this.tasks.push(...tasks);\r\n        if (this.state === QueueState.Finish) {\r\n            this.start();\r\n        }\r\n        this.mayHandleNextTask();\r\n    }\r\n    /** Unshift tasks to queue. */\r\n    unshift(...items) {\r\n        this.tasks.unshift(...items);\r\n        if (this.state === QueueState.Finish) {\r\n            this.start();\r\n        }\r\n        this.mayHandleNextTask();\r\n    }\r\n    /** Find first matched task. */\r\n    find(fn) {\r\n        let item = this.runningItems.find(item => fn(item.task));\r\n        if (item) {\r\n            return item.task;\r\n        }\r\n        item = this.failedItems.find(item => fn(item.task));\r\n        if (item) {\r\n            return item.task;\r\n        }\r\n        let task = this.tasks.find(task => fn(task));\r\n        if (task) {\r\n            return task;\r\n        }\r\n        return undefined;\r\n    }\r\n    /** Remove tasks, note that it's O(m * n) algorithm */\r\n    remove(...tasks) {\r\n        let removed = [];\r\n        for (let task of tasks) {\r\n            let index = this.runningItems.findIndex(item => item.task === task);\r\n            if (index > -1) {\r\n                this.abortItem(this.runningItems.splice(index, 1)[0]);\r\n                removed.push(task);\r\n            }\r\n            else {\r\n                index = this.failedItems.findIndex(item => item.task === task);\r\n                if (index > -1) {\r\n                    this.failedItems.splice(index, 1);\r\n                    removed.push(task);\r\n                }\r\n            }\r\n            if (index === -1) {\r\n                index = this.tasks.findIndex(v => v === task);\r\n                if (index > -1) {\r\n                    tasks.splice(index, 1);\r\n                    removed.push(task);\r\n                }\r\n            }\r\n        }\r\n        this.mayHandleNextTask();\r\n        return removed;\r\n    }\r\n    /** Remove all matched tasks */\r\n    removeWhere(fn) {\r\n        let removed = [];\r\n        let runningItems = array_1.removeWhere(this.runningItems, item => fn(item.task));\r\n        runningItems.forEach(item => this.abortItem(item));\r\n        removed.push(...runningItems.map(item => item.task));\r\n        removed.push(...array_1.removeWhere(this.failedItems, item => fn(item.task)).map(item => item.task));\r\n        removed.push(...array_1.removeWhere(this.tasks, task => fn(task)));\r\n        this.mayHandleNextTask();\r\n        return removed;\r\n    }\r\n}\r\nexports.Queue = Queue;\r\n/**\r\n * Run tasks in queue, returns a promise which will be resolved after finished.\r\n * @param tasks The task array which will be passed to handler in order.\r\n * @param handler The handler to handle each task.\r\n * @param concurrency Specify how many tasks to run simultaneously.\r\n */\r\nfunction queueEach(tasks, handler, concurrency) {\r\n    return new Promise((resolve, reject) => {\r\n        let q = new Queue({\r\n            concurrency,\r\n            tasks,\r\n            handler\r\n        });\r\n        q.on('finish', resolve);\r\n        q.on('error', reject);\r\n        q.start();\r\n    });\r\n}\r\nexports.queueEach = queueEach;\r\n/**\r\n * Run tasks in queue, returns a promise which will be resolved with returned values from handler after finished.\r\n * @param tasks The task array which will be passed to handler in order.\r\n * @param handler The handler to handle each task. It should returns a value.\r\n * @param concurrency Specify how many tasks to run simultaneously.\r\n */\r\nfunction queueMap(tasks, handler, concurrency) {\r\n    return new Promise((resolve, reject) => {\r\n        let values = [];\r\n        let indexedTasks = tasks.map((task, index) => ({ task, index }));\r\n        let q = new Queue({\r\n            concurrency,\r\n            tasks: indexedTasks,\r\n            handler: async ({ task, index }) => {\r\n                values[index] = await handler(task);\r\n            }\r\n        });\r\n        q.on('finish', () => resolve(values));\r\n        q.on('error', reject);\r\n        q.start();\r\n    });\r\n}\r\nexports.queueMap = queueMap;\r\n/**\r\n * Run tasks in queue, returns a promise which will be resolved if some tasks match handler.\r\n * @param tasks The task array which will be passed to handler in order.\r\n * @param handler The handler to handle each task. It should returns a boolean value.\r\n * @param concurrency Specify how many tasks to run simultaneously.\r\n */\r\nfunction queueSome(tasks, handler, concurrency) {\r\n    return new Promise((resolve, reject) => {\r\n        let q = new Queue({\r\n            concurrency,\r\n            tasks,\r\n            handler\r\n        });\r\n        q.on('taskfinish', (_task, value) => {\r\n            if (value) {\r\n                resolve(true);\r\n                q.clear();\r\n            }\r\n        });\r\n        q.on('finish', () => resolve(false));\r\n        q.on('error', reject);\r\n        q.start();\r\n    });\r\n}\r\nexports.queueSome = queueSome;\r\n/**\r\n * Run tasks in queue, returns a promise which will be resolved if every tasks match handler.\r\n * @param tasks The task array which will be passed to handler in order.\r\n * @param handler The handler to handle each task. It should returns a boolean value.\r\n * @param concurrency Specify how many tasks to run simultaneously.\r\n */\r\nfunction queueEvery(tasks, handler, concurrency) {\r\n    return queueSome(tasks, async (task) => !(await handler(task)), concurrency).then(value => !value);\r\n}\r\nexports.queueEvery = queueEvery;\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/** Replace `$0` to `matches[0]`, `$1` to `matches[1]`... */\r\nfunction replaceMatchTags(template, match) {\r\n    return template.replace(/\\$(?:([$&\\d])|<(\\w+)>)/g, (_m0, m1, m2) => {\r\n        if (m2) {\r\n            return match.groups ? match.groups[m2] || '' : '';\r\n        }\r\n        else if (m1 === '$') {\r\n            return '$';\r\n        }\r\n        else if (m1 === '&') {\r\n            return match[0];\r\n        }\r\n        else {\r\n            return typeof match[m1] === 'string' ? match[m1] : '';\r\n        }\r\n    });\r\n}\r\n/**\r\n * Select sub matches from `string` by `re`, then format a `template` with sub matches. returns the format result or results.\r\n * @param string The string to select sub matches.\r\n * @param re The RegExp to execute on string.\r\n * @param template Replace `$i` or `$<name>` to corresponding match.\r\n */\r\nfunction select(string, re, template) {\r\n    if (re.global) {\r\n        let match;\r\n        let matches = [];\r\n        while (match = re.exec(string)) {\r\n            matches.push(replaceMatchTags(template, match));\r\n        }\r\n        return matches;\r\n    }\r\n    else {\r\n        let match = string.match(re);\r\n        if (match) {\r\n            return replaceMatchTags(template, match);\r\n        }\r\n        else {\r\n            return '';\r\n        }\r\n    }\r\n}\r\nexports.select = select;\r\n/**\r\n * Returns specified index of sub match in `string` by executing `re`. Returns an array when `re` is global.\r\n * @param string The string to select sub match.\r\n * @param re The RegExp to execute on string.\r\n * @param index Select the sub match in the index from each match result or results.\r\n */\r\nfunction subMatchAt(string, re, index = 0) {\r\n    if (re.global) {\r\n        let match;\r\n        let matches = [];\r\n        while (match = re.exec(string)) {\r\n            matches.push(match[index] || '');\r\n        }\r\n        return matches;\r\n    }\r\n    else {\r\n        let match = string.match(re);\r\n        if (match) {\r\n            return match[index] || '';\r\n        }\r\n        else {\r\n            return '';\r\n        }\r\n    }\r\n}\r\nexports.subMatchAt = subMatchAt;\r\n/**\r\n * Returns all sub matches in `string` by executing `re`. Returns an array that includes sub matches when `re` is global.\r\n * @param string The string to select sub matches.\r\n * @param re The RegExp to execute on string.\r\n * @param sliceIndex Slice each match results from, specify to 0 to include whole match, 1 to only include sub matches.\r\n */\r\nfunction subMatches(string, re, sliceIndex = 1) {\r\n    if (re.global) {\r\n        let match;\r\n        let matches = [];\r\n        while (match = re.exec(string)) {\r\n            matches.push([...match].slice(sliceIndex));\r\n        }\r\n        return matches;\r\n    }\r\n    else {\r\n        let match = string.match(re);\r\n        if (match) {\r\n            return [...match].slice(sliceIndex);\r\n        }\r\n        else {\r\n            return [];\r\n        }\r\n    }\r\n}\r\nexports.subMatches = subMatches;\r\n/**\r\n * Format string to replace placeholders `${key}` in `template` to `source[key]`. will keep the placeholders if no match found.\r\n * @param template String to format\r\n * @param source The data source.\r\n */\r\nfunction format(template, source) {\r\n    return template.replace(/\\$\\{(\\w+)\\}/g, (m0, m1) => {\r\n        let value = source[m1];\r\n        if (value === undefined) {\r\n            value = m0;\r\n        }\r\n        return value;\r\n    });\r\n}\r\nexports.format = format;\r\n/**\r\n * Get the left part of string before substring.\r\n * @param string The string to search substring.\r\n * @param substring The sub part to search in string.\r\n * @param greedy If true, when substring can't be found in string, returns the whole string.\r\n */\r\nfunction before(string, substring, greedy = false) {\r\n    let index = string.indexOf(substring);\r\n    if (index < 0) {\r\n        return greedy ? string : '';\r\n    }\r\n    else {\r\n        return string.slice(0, index);\r\n    }\r\n}\r\nexports.before = before;\r\n/**\r\n * Get the right part of string before substring.\r\n * @param string The string to search substring.\r\n * @param substring The sub part to search in string.\r\n * @param greedy If true, when substring can't be found in string, returns the whole string.\r\n */\r\nfunction after(string, substring, greedy = false) {\r\n    let index = string.indexOf(substring);\r\n    if (index < 0) {\r\n        return greedy ? string : '';\r\n    }\r\n    else {\r\n        return string.slice(index + substring.length);\r\n    }\r\n}\r\nexports.after = after;\r\n/**\r\n * Get the left part of string before the last substring.\r\n * @param string The string to search substring.\r\n * @param substring The sub part to search in string.\r\n * @param greedy If true, when substring can't be found in string, returns the whole string.\r\n */\r\nfunction beforeLast(string, substring, greedy = false) {\r\n    let index = string.lastIndexOf(substring);\r\n    if (index < 0) {\r\n        return greedy ? string : '';\r\n    }\r\n    else {\r\n        return string.slice(0, index);\r\n    }\r\n}\r\nexports.beforeLast = beforeLast;\r\n/**\r\n * Get the right part of string before the last substring.\r\n * @param string The string to search substring.\r\n * @param substring The sub part to search in string.\r\n * @param greedy If true, when substring can't be found in string, returns the whole string.\r\n */\r\nfunction afterLast(string, substring, greedy = false) {\r\n    let index = string.lastIndexOf(substring);\r\n    if (index < 0) {\r\n        return greedy ? string : '';\r\n    }\r\n    else {\r\n        return string.slice(index + 1);\r\n    }\r\n}\r\nexports.afterLast = afterLast;\r\n/**\r\n * Uppercase the first character.\r\n * @param string The string to be capitalized.\r\n */\r\nfunction capitalize(string) {\r\n    return string.slice(0, 1).toUpperCase() + string.slice(1);\r\n}\r\nexports.capitalize = capitalize;\r\n/**\r\n * Transform the string to camer case type.\r\n * @param string The string to transform.\r\n */\r\nfunction toCamerCase(string) {\r\n    return string.replace(/[-_][a-z]/g, m0 => m0[1].toUpperCase());\r\n}\r\nexports.toCamerCase = toCamerCase;\r\n/**\r\n * Transform the string to dash case by spliting words with `-`.\r\n * @param string The string to transform.\r\n */\r\nfunction toDashCase(string) {\r\n    return string.replace(/[A-Z]+/g, (m0, index) => {\r\n        if (index > 0) {\r\n            return '-' + m0.toLowerCase();\r\n        }\r\n        else {\r\n            return m0.toLowerCase();\r\n        }\r\n    });\r\n}\r\nexports.toDashCase = toDashCase;\r\n",
    "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Returns a promise which will be resolved after `ms` milliseconds.\r\n * @param ms The sleep time in milliseconds.\r\n */\r\nfunction sleep(ms = 0) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\nexports.sleep = sleep;\r\n",
    "import * as ff from '../../..'\r\nconst assert = chai.assert\r\n\r\n\r\ndescribe('Test align', () => {\r\n\tit('align with positions t | b | c | l | r', () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; height: 100px;'\r\n\t\tlet target = document.createElement('div')\r\n\t\ttarget.style.cssText = 'position: fixed; left: 200px; top: 200px; width: 200px; height: 200px;'\r\n\t\tdocument.body.append(div, target)\r\n\r\n\t\tff.align(div, target, 't')\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 250)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 100)\r\n\r\n\t\tff.align(div, target, 'b')\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 250)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 400)\r\n\r\n\t\tff.align(div, target, 'c')\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 250)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 250)\r\n\r\n\t\tff.align(div, target, 'l')\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 100)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 250)\r\n\r\n\t\tff.align(div, target, 'r')\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 400)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 250)\r\n\r\n\t\tdiv.remove()\r\n\t\ttarget.remove()\r\n\t})\r\n\r\n\tit('align with positions tl | tr | bl | br | lt | lb | rt | rb', () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; height: 100px;'\r\n\t\tlet target = document.createElement('div')\r\n\t\ttarget.style.cssText = 'position: fixed; left: 200px; top: 200px; width: 200px; height: 200px;'\r\n\t\tdocument.body.append(div, target)\r\n\r\n\t\tff.align(div, target, 'tl')\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 200)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 100)\r\n\r\n\t\tff.align(div, target, 'tr')\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 300)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 100)\r\n\r\n\t\tff.align(div, target, 'bl')\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 200)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 400)\r\n\r\n\t\tff.align(div, target, 'br')\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 300)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 400)\r\n\r\n\t\tff.align(div, target, 'lt')\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 100)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 200)\r\n\r\n\t\tff.align(div, target, 'lb')\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 100)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 300)\r\n\r\n\t\tff.align(div, target, 'rt')\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 400)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 200)\r\n\r\n\t\tff.align(div, target, 'rb')\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 400)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 300)\r\n\r\n\t\tdiv.remove()\r\n\t\ttarget.remove()\r\n\t})\r\n\r\n\tit('other aligns', () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; height: 100px;'\r\n\t\tlet target = document.createElement('div')\r\n\t\ttarget.style.cssText = 'position: fixed; left: 200px; top: 200px; width: 200px; height: 200px;'\r\n\t\tdocument.body.append(div, target)\r\n\r\n\t\tff.align(div, target, 'b-t')\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 250)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 100)\r\n\r\n\t\tdiv.remove()\r\n\t\ttarget.remove()\r\n\t})\r\n\r\n\tit('align with positions in corners', () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; height: 100px;'\r\n\t\tlet target = document.createElement('div')\r\n\t\ttarget.style.cssText = 'position: fixed; left: 200px; top: 200px; width: 200px; height: 200px;'\r\n\t\tdocument.body.append(div, target)\r\n\r\n\t\tff.align(div, target, 'br-tl')\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 100)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 100)\r\n\r\n\t\tff.align(div, target, 'bl-tr')\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 400)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 100)\r\n\r\n\t\tff.align(div, target, 'tl-br')\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 400)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 400)\r\n\r\n\t\tff.align(div, target, 'tr-bl')\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 100)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 400)\r\n\r\n\t\tdiv.remove()\r\n\t\ttarget.remove()\r\n\t})\r\n\r\n\tit('should align to opposite place when not enough space', () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; height: 100px;'\r\n\t\tlet target = document.createElement('div')\r\n\t\ttarget.style.cssText = 'position: fixed; left: 50px; top: 50px; width: 200px; height: 200px;'\r\n\t\tdocument.body.append(div, target)\r\n\r\n\t\tff.align(div, target, 'tl')\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 50)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 250)\r\n\r\n\t\tff.align(div, target, 'lt')\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 250)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 50)\r\n\r\n\t\ttarget.style.cssText = 'position: fixed; right: 50px; bottom: 50px; width: 200px; height: 200px;'\r\n\t\tff.align(div, target, 'br')\r\n\t\tassert.closeTo(ff.getNumeric(div, 'left'), ff.getRect(target).right - ff.getRect(div).width, 1)\r\n\t\tassert.closeTo(ff.getNumeric(div, 'top'), ff.getRect(target).top - ff.getRect(div).height, 1)\r\n\r\n\t\tff.align(div, target, 'rb')\r\n\t\tassert.closeTo(ff.getNumeric(div, 'left'), ff.getRect(target).left - ff.getRect(div).width, 1)\r\n\t\tassert.closeTo(ff.getNumeric(div, 'top'), ff.getRect(target).bottom - ff.getRect(div).height, 1)\r\n\r\n\t\tdiv.remove()\r\n\t\ttarget.remove()\r\n\t})\r\n\r\n\tit('should align trangle', () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; height: 100px;'\r\n\t\tdiv.innerHTML = '<div style=\"position: absolute; width: 20px; height: 20px; left: 0; bottom: -20px;\"></div>'\r\n\t\tlet trangle = div.firstElementChild as HTMLElement\r\n\r\n\t\tlet target = document.createElement('div')\r\n\t\ttarget.style.cssText = 'position: fixed; left: 200px; top: 200px; width: 200px; height: 200px;'\r\n\t\tdocument.body.append(div, target)\r\n\r\n\t\tff.align(div, target, 'tl', {trangle})\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 80)\r\n\t\tassert.equal(ff.getNumeric(trangle, 'left'), 40)\r\n\r\n\t\tff.align(div, target, 'br', {trangle})\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 420)\r\n\t\tassert.equal(ff.getNumeric(trangle, 'left'), 40)\r\n\t\tassert.equal(ff.getNumeric(trangle, 'top'), -20)\r\n\r\n\t\ttrangle.style.left = '-20px'\r\n\r\n\t\tff.align(div, target, 'lt', {trangle})\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 80)\r\n\t\tassert.equal(ff.getNumeric(trangle, 'top'), 40)\r\n\t\tassert.equal(ff.getNumeric(trangle, 'right'), -20)\r\n\r\n\t\tff.align(div, target, 'rb', {trangle})\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 420)\r\n\t\tassert.equal(ff.getNumeric(trangle, 'top'), 40)\r\n\r\n\t\tdiv.remove()\r\n\t\ttarget.remove()\r\n\t})\r\n\r\n\tit('should align trangle to the middle of target when target is smaller than el', () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 200px; height: 200px;'\r\n\t\tdiv.innerHTML = '<div style=\"position: absolute; width: 20px; height: 20px; left: 0; bottom: -20px;\"></div>'\r\n\t\tlet trangle = div.firstElementChild as HTMLElement\r\n\r\n\t\tlet target = document.createElement('div')\r\n\t\ttarget.style.cssText = 'position: fixed; left: 300px; top: 300px; width: 100px; height: 100px;'\r\n\t\tdocument.body.append(div, target)\r\n\r\n\t\tff.align(div, target, 'tl', {trangle})\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 80)\r\n\t\tassert.equal(ff.getNumeric(trangle, 'left'), 40)\r\n\t\tassert.equal(trangle.style.transform, '')\r\n\r\n\t\tff.align(div, target, 'br', {trangle})\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 420)\r\n\t\tassert.equal(ff.getNumeric(trangle, 'left'), 140)\r\n\t\tassert.equal(ff.getNumeric(trangle, 'top'), -20)\r\n\t\tassert.equal(trangle.style.transform, 'rotateX(180deg)')\r\n\r\n\t\ttrangle.style.top = '-20px'\r\n\t\ttrangle.style.bottom = ''\r\n\t\tff.align(div, target, 'tl', {trangle})\r\n\t\tassert.equal(trangle.style.transform, 'rotateX(180deg)')\r\n\r\n\t\ttrangle.style.top = '-20px'\r\n\t\ttrangle.style.bottom = ''\r\n\t\tff.align(div, target, 'br', {trangle})\r\n\t\tassert.equal(trangle.style.transform, '')\r\n\r\n\r\n\t\ttrangle.style.left = '-20px'\r\n\t\tff.align(div, target, 'lt', {trangle})\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 80)\r\n\t\tassert.equal(ff.getNumeric(trangle, 'top'), 40)\r\n\t\tassert.equal(ff.getNumeric(trangle, 'right'), -20)\r\n\t\tassert.equal(trangle.style.transform, 'rotateY(180deg)')\r\n\r\n\t\ttrangle.style.left = '-20px'\r\n\t\ttrangle.style.right = ''\r\n\t\tff.align(div, target, 'rb', {trangle})\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 420)\r\n\t\tassert.equal(ff.getNumeric(trangle, 'top'), 140)\r\n\t\tassert.equal(trangle.style.transform, '')\r\n\r\n\t\tdiv.remove()\r\n\t\ttarget.remove()\r\n\t})\r\n\r\n\tit('should set overflow when el is too high and canOverflowY set', () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; overflow: auto;'\r\n\t\tdiv.innerHTML = '<div style=\"width: 100px; height: 1000px;\"></div>'\r\n\r\n\t\tlet target = document.createElement('div')\r\n\t\ttarget.style.cssText = 'position: fixed; left: 200px; top: 200px; width: 200px; height: 200px;'\r\n\t\tdocument.body.append(div, target)\r\n\r\n\t\tff.align(div, target, 'tl', {canShrinkInY: true})\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 400)\r\n\t\tassert.isBelow(ff.getNumeric(div, 'height'), 1000)\r\n\r\n\t\tdiv.scrollTop = 100\r\n\t\tff.align(div, target, 'br', {canShrinkInY: true})\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 400)\r\n\t\tassert.isBelow(ff.getNumeric(div, 'height'), 1000)\r\n\t\tassert.equal(div.scrollTop, 100)\r\n\r\n\t\tdiv.remove()\r\n\t\ttarget.remove()\r\n\t})\r\n\r\n\tit('should set overflow when el is too high and canOverflowY set and will align top', () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; overflow: auto;'\r\n\t\tdiv.innerHTML = '<div style=\"width: 100px; height: 1000px;\"></div>'\r\n\r\n\t\tlet target = document.createElement('div')\r\n\t\ttarget.style.cssText = 'position: fixed; bottom: 100px; right: 100px; width: 200px; height: 200px;'\r\n\t\tdocument.body.append(div, target)\r\n\r\n\t\tff.align(div, target, 'tl', {canShrinkInY: true})\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 0)\r\n\t\tassert.isBelow(ff.getNumeric(div, 'height'), 1000)\r\n\r\n\t\tdiv.scrollTop = 100\r\n\t\tff.align(div, target, 'br', {canShrinkInY: true})\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 0)\r\n\t\tassert.isBelow(ff.getNumeric(div, 'height'), 1000)\r\n\t\tassert.equal(div.scrollTop, 100)\r\n\r\n\t\tdiv.remove()\r\n\t\ttarget.remove()\r\n\t})\r\n\r\n\tit('should throw when position is not correct', () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; height: 100px;'\r\n\r\n\t\tlet target = document.createElement('div')\r\n\t\ttarget.style.cssText = 'position: fixed; left: 200px; top: 200px; width: 200px; height: 200px;'\r\n\t\tdocument.body.append(div, target)\r\n\r\n\t\tassert.throw(() => ff.align(div, target, 'tll'))\r\n\t\t\r\n\t\tdiv.remove()\r\n\t\ttarget.remove()\r\n\t})\r\n\r\n\tit('should align when el is absolute position', () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: absolute; width: 100px; height: 100px; left: 100px; top: 100px;'\r\n\t\tdiv.innerHTML = '<div style=\"position: absolute; width: 100px; height: 100px;\"></div>'\r\n\t\tlet child = div.firstElementChild as HTMLElement\r\n\r\n\t\tlet target = document.createElement('div')\r\n\t\ttarget.style.cssText = 'position: absolute; left: 200px; top: 200px; width: 200px; height: 200px;'\r\n\t\tdocument.body.append(div, target)\r\n\r\n\t\tff.align(child, target, 'tl')\r\n\t\tassert.equal(ff.getNumeric(child, 'left'), 100)\r\n\t\tassert.equal(ff.getNumeric(child, 'top'), 0)\r\n\t\t\r\n\t\tdiv.remove()\r\n\t\ttarget.remove()\r\n\t})\r\n\r\n\tit('should add margin', () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; height: 100px;'\r\n\t\t\r\n\t\tlet target = document.createElement('div')\r\n\t\ttarget.style.cssText = 'position: fixed; left: 200px; top: 200px; width: 200px; height: 200px;'\r\n\t\tdocument.body.append(div, target)\r\n\r\n\t\tff.align(div, target, 'tl', {margin: 20})\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 200)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 80)\r\n\t\t\r\n\t\tdiv.remove()\r\n\t\ttarget.remove()\r\n\t})\r\n\r\n\tit('should align event', () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; height: 100px;'\r\n\t\tdocument.body.append(div)\r\n\t\t\r\n\t\tlet event = new MouseEvent('mousedown', {\r\n\t\t\tclientX: 100,\r\n\t\t\tclientY: 100,\r\n\t\t})\r\n\t\t\r\n\t\tff.alignToEvent(div, event, [10, 10])\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 110)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 110)\r\n\t\tdiv.remove()\r\n\t})\r\n})\r\n",
    "import * as ff from '../../..'\r\nconst assert = chai.assert\r\n\r\n\r\ndescribe('Test animate', () => {\r\n\tit('animateProperty', async () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; height: 100px; left: 0; top: 0'\r\n\t\tdocument.body.append(div)\r\n\r\n\t\tlet d = Date.now()\r\n\t\tawait ff.animateProperty(div, 'left', 0, 100, 100).promise\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 100)\r\n\t\tassert.closeTo(Date.now() - d, 100, 50)\r\n\r\n\t\td = Date.now()\r\n\t\tawait ff.animatePropertyTo(div, 'left', 200, 100).promise\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 200)\r\n\t\tassert.closeTo(Date.now() - d, 100, 50)\r\n\r\n\t\td = Date.now()\r\n\t\tawait ff.animatePropertyFrom(div, 'left', 100, 100).promise\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 200)\r\n\t\tassert.closeTo(Date.now() - d, 100, 50)\r\n\r\n\t\tassert.isBelow(ff.getEasingFunction('ease-in')(0.5), ff.getEasingFunction('linear')(0.5))\r\n\t\tassert.isAbove(ff.getEasingFunction('ease-out')(0.5), ff.getEasingFunction('linear')(0.5))\r\n\r\n\t\tdiv.remove()\r\n\t})\r\n\r\n\tit('animateByFunction', async () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; height: 100px; left: 0; top: 0'\r\n\t\tdocument.body.append(div)\r\n\r\n\t\tlet d = Date.now()\r\n\t\tawait ff.animateByFunction((value) => {ff.setStyle(div, 'left', value)}, 0, 100, 100).promise\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 100)\r\n\t\tassert.closeTo(Date.now() - d, 100, 50)\r\n\r\n\t\td = Date.now()\r\n\t\tawait ff.animateByFunction((value) => {ff.setStyle(div, 'left', value)}, 100, 200, 100).promise\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 200)\r\n\t\tassert.closeTo(Date.now() - d, 100, 50)\r\n\r\n\t\td = Date.now()\r\n\t\tawait ff.animateByFunction((value) => {ff.setStyle(div, 'left', value)}, 200, 100, 100).promise\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 100)\r\n\t\tassert.closeTo(Date.now() - d, 100, 50)\r\n\r\n\t\tdiv.remove()\r\n\t})\r\n\r\n\tit('animate', async () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; height: 100px; left: 0; top: 0'\r\n\t\tdocument.body.append(div)\r\n\r\n\t\tlet d = Date.now()\r\n\t\tawait ff.animate(div, {left: 0}, {left: 100}, 100)\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 0)\r\n\t\tassert.closeTo(Date.now() - d, 100, 50)\r\n\r\n\t\td = Date.now()\r\n\t\tawait ff.animateTo(div, {left: 200}, 100)\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 200)\r\n\t\tassert.closeTo(Date.now() - d, 100, 50)\r\n\r\n\t\td = Date.now()\r\n\t\tawait ff.animateFrom(div, {left: 100}, 100)\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 200)\r\n\t\tassert.closeTo(Date.now() - d, 100, 50)\r\n\r\n\t\td = Date.now()\r\n\t\tlet promise = ff.animateToNextFrame(div, 'left', 100)\r\n\t\tdiv.style.left = '300px'\r\n\t\tawait promise\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 300)\r\n\t\tassert.closeTo(Date.now() - d, 100, 50)\r\n\r\n\t\tdiv.remove()\r\n\t})\r\n})",
    "import * as ff from '../../..'\r\nconst assert = chai.assert\r\n\r\n\r\ndescribe('Test css', () => {\r\n\tit('getNumeric', () => {\r\n\t\tassert.equal(\r\n\t\t\tff.getNumeric(document.body, 'width'),\r\n\t\t\tparseFloat(getComputedStyle(document.body).width!)\r\n\t\t)\r\n\r\n\t\tassert.equal(\r\n\t\t\tff.getNumeric(document.body, 'display'),\r\n\t\t\t0\r\n\t\t)\r\n\t})\r\n\r\n\tit('setCSS', () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdocument.body.appendChild(div)\r\n\r\n\t\tff.setStyle(div, 'width', '1000px')\r\n\t\tassert.equal(div.style.width, '1000px')\r\n\t\t\r\n\t\tff.setStyle(div, {width: 1200, height: 100})\r\n\t\tassert.equal(div.style.width, '1200px')\r\n\t\tassert.equal(div.style.height, '100px')\r\n\r\n\t\tdiv.remove()\r\n\t})\r\n})\r\n",
    "import * as ff from '../../..'\r\nconst assert = chai.assert\r\n\r\n\r\ndescribe('Test draggable', () => {\r\n\tit('setDraggable', async () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; height: 100px; left: 0; top: 0;'\r\n\t\tdocument.body.append(div)\r\n\r\n\t\tff.setDraggable(div)\r\n\r\n\t\tlet mouseDownEvent = new MouseEvent('mousedown', {\r\n\t\t\tclientX: 50,\r\n\t\t\tclientY: 50,\r\n\t\t})\r\n\t\tdiv.dispatchEvent(mouseDownEvent)\r\n\r\n\t\tlet mouseMoveEvent = new MouseEvent('mousemove', {\r\n\t\t\tbubbles: true,\r\n\t\t\tclientX: 150,\r\n\t\t\tclientY: 150,\r\n\t\t})\r\n\t\tdiv.dispatchEvent(mouseMoveEvent)\r\n\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 100)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 100)\r\n\r\n\t\tmouseMoveEvent = new MouseEvent('mousemove', {\r\n\t\t\tbubbles: true,\r\n\t\t\tclientX: -50,\r\n\t\t\tclientY: -50,\r\n\t\t})\r\n\t\tdiv.dispatchEvent(mouseMoveEvent)\r\n\r\n\t\tassert.equal(ff.getNumeric(div, 'left'), 0)\r\n\t\tassert.equal(ff.getNumeric(div, 'top'), 0)\r\n\r\n\t\tlet mouseUpEvent = new MouseEvent('mouseup', {\r\n\t\t\tbubbles: true,\r\n\t\t})\r\n\t\tdiv.dispatchEvent(mouseUpEvent)\r\n\r\n\t\tdiv.remove()\r\n\t})\r\n})",
    "/** Works like jest.fn */\r\nexport function fn(handler: Function = function(){}) {\r\n\tlet calls: any[] = []\r\n\tlet returns: any[] = []\r\n\r\n\tfunction mockFn(this: any, ...args: any[]) {\r\n\t\tcalls.push(args)\r\n\t\tlet returned = handler.call(this, ...args)\r\n\t\treturns.push(returned)\r\n\t\treturn returned\r\n\t}\r\n\r\n\tmockFn.mock = {\r\n\t\tcalls,\r\n\t\treturns,\r\n\t}\r\n\t\r\n\treturn mockFn\r\n}\r\n",
    "import * as ff from '../../..'\r\nimport * as helper from './helper'\r\nconst assert = chai.assert\r\n\r\n\r\nlet mouseEnter = (el: HTMLElement) => {\r\n\tlet event = new MouseEvent('mouseenter')\r\n\tel.dispatchEvent(event)\r\n}\r\n\r\nlet mouseLeave = (el: HTMLElement) => {\r\n\tlet event = new MouseEvent('mouseleave')\r\n\tel.dispatchEvent(event)\r\n}\r\n\r\n\r\ndescribe('Test onMouseLeaveAll', () => {\r\n\tit('onMouseLeaveAll', async () => {\r\n\t\tlet fn = helper.fn()\r\n\r\n\t\tlet div1 = document.createElement('div')\r\n\t\tdiv1.style.cssText = 'position: fixed; width: 100px; height: 100px; left: 0; top: 0;'\r\n\t\tdocument.body.append(div1)\r\n\r\n\t\tlet div2 = document.createElement('div')\r\n\t\tdiv2.style.cssText = 'position: fixed; width: 100px; height: 100px; left: 0; top: 0;'\r\n\t\tdocument.body.append(div2)\r\n\r\n\t\tff.onMouseLeaveAll([div1, div2], fn)\r\n\t\t\r\n\t\tmouseEnter(div1)\r\n\t\tawait ff.sleep(100)\r\n\t\tmouseLeave(div1)\r\n\t\tawait ff.sleep(100)\r\n\t\tmouseEnter(div2)\r\n\t\tawait ff.sleep(100)\r\n\t\tmouseLeave(div2)\r\n\t\tawait ff.sleep(100)\r\n\t\tassert.equal(fn.mock.calls.length, 0)\r\n\r\n\t\tawait new Promise(resolve => setTimeout(resolve, 150))\r\n\t\tassert.equal(fn.mock.calls.length, 1)\r\n\r\n\t\tdiv1.remove()\r\n\t\tdiv2.remove()\r\n\t})\r\n\r\n\tit('onceMouseLeaveAll', async () => {\r\n\t\tlet calledTimes = 0\r\n\t\tlet fn = () => {\r\n\t\t\tcalledTimes++\r\n\t\t}\r\n\r\n\t\tlet div1 = document.createElement('div')\r\n\t\tdiv1.style.cssText = 'position: fixed; width: 100px; height: 100px; left: 0; top: 0;'\r\n\t\tdocument.body.append(div1)\r\n\r\n\t\tff.onceMouseLeaveAll([div1], fn)\r\n\r\n\t\tmouseEnter(div1)\r\n\t\tmouseLeave(div1)\r\n\t\tawait new Promise(resolve => setTimeout(resolve, 200))\r\n\t\tassert.equal(calledTimes, 1)\r\n\t\tawait new Promise(resolve => setTimeout(resolve, 200))\r\n\t\tassert.equal(calledTimes, 1)\r\n\r\n\t\tdiv1.remove()\r\n\t})\r\n})",
    "import * as ff from '../../..'\r\nconst assert = chai.assert\r\n\r\n\r\ndescribe('Test node', () => {\r\n\tit('nodeIndex & elementIndex', () => {\r\n\t\tassert.equal(\r\n\t\t\tff.nodeIndex(document.body),\r\n\t\t\t[...document.documentElement.childNodes].indexOf(document.body)\r\n\t\t)\r\n\r\n\t\tassert.equal(\r\n\t\t\tff.elementIndex(document.body),\r\n\t\t\t[...document.documentElement.children].indexOf(document.body)\r\n\t\t)\r\n\t})\r\n\r\n\tit('innerWidth & innerHeight', () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'width: 1000px; height: 100px; margin: 10px; padding: 10px;'\r\n\t\tdocument.body.appendChild(div)\r\n\r\n\t\tassert.equal(ff.innerWidth(div), 980)\r\n\t\tassert.equal(ff.innerHeight(div), 80)\r\n\r\n\t\tdiv.style.overflow = 'scroll'\r\n\t\t\r\n\t\tassert.equal(ff.innerWidth(div), 980 - ff.getScrollbarWidth())\r\n\t\tassert.equal(ff.innerHeight(div), 80 - ff.getScrollbarWidth())\r\n\r\n\t\tdiv.remove()\r\n\t})\r\n\r\n\tit('outerWidth & outerHeight', () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'width: 1000px; height: 100px; margin: 10px; padding: 10px;'\r\n\t\tdocument.body.appendChild(div)\r\n\r\n\t\tassert.equal(ff.outerWidth(div), 1020)\r\n\t\tassert.equal(ff.outerHeight(div), 120)\r\n\r\n\t\tdiv.remove()\r\n\t})\r\n\r\n\tit('getRect', () => {\r\n\t\tdocument.body.style.height = '120%'\r\n\t\tlet rect = document.body.getBoundingClientRect()\r\n\r\n\t\tlet rectObj = {\r\n\t\t\tbottom: rect.bottom,\r\n\t\t\theight: rect.height,\r\n\t\t\tleft: rect.left,\r\n\t\t\tright: rect.right,\r\n\t\t\ttop: rect.top,\r\n\t\t\twidth: rect.width,\r\n\t\t}\r\n\r\n\t\tassert.deepEqual(ff.getRect(document.body), rectObj)\r\n\r\n\t\tassert.deepEqual(ff.getRect(document.documentElement).width, document.documentElement.clientWidth)\r\n\t\tassert.deepEqual(ff.getRect(document.documentElement).height, document.documentElement.clientHeight)\r\n\t\tdocument.body.style.height = ''\r\n\t})\r\n\r\n\tit('isInview', () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'width: 100px; height: 100px; position: fixed; left: 0; top: 0'\r\n\t\tdocument.body.appendChild(div)\r\n\t\tassert.equal(ff.isInview(div), true)\r\n\r\n\t\tdiv.style.top = 'calc(100%)'\r\n\t\tassert.equal(ff.isInview(div), false)\r\n\r\n\t\tdiv.style.top = 'calc(100% - 50px)'\r\n\t\tassert.equal(ff.isInview(div, 0.4), true)\r\n\t\tassert.equal(ff.isInview(div, 0.6), false)\r\n\r\n\t\tdiv.remove()\r\n\t})\r\n})\r\n",
    "import * as ff from '../../..'\r\nconst assert = chai.assert\r\n\r\n\r\ndescribe('Test query', () => {\r\n\tit('parseQuery', () => {\r\n\t\tassert.deepEqual(ff.parseQuery('http://www.example.com?a=b&c=d&e='), {\r\n\t\t\ta: 'b',\r\n\t\t\tc: 'd',\r\n\t\t\te: ''\r\n\t\t})\r\n\t})\r\n\r\n\tit('useQuery', () => {\r\n\t\tassert.deepEqual(ff.useQuery('http://www.example.com', {a: 'b'}), 'http://www.example.com?a=b')\r\n\t\tassert.deepEqual(ff.useQuery('http://www.example.com?a=b', {c: 'd', e: ''}), 'http://www.example.com?a=b&c=d&e=')\r\n\t})\r\n})\r\n",
    "import * as ff from '../../..'\r\nconst assert = chai.assert\r\n\r\n\r\ndescribe('Test scroll', () => {\r\n\tit('hasScrollbar', async () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; height: 100px;'\r\n\t\tdiv.innerHTML = '<div style=\"height: 200px;\"></div>'\r\n\t\tdocument.body.append(div)\r\n\t\tassert.equal(ff.isContentOverflow(div), true)\r\n\t\tdiv.innerHTML = ''\r\n\t\tassert.equal(ff.isContentOverflow(div), false)\r\n\t\tdiv.remove()\r\n\t})\r\n\r\n\tit('getClosestScroller', async () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; height: 100px;'\r\n\t\tdiv.innerHTML = '<div style=\"height: 200px;\"></div>'\r\n\t\tdocument.body.append(div)\r\n\r\n\t\tassert.equal(ff.getClosestScrollWrapper(div), div)\r\n\t\tassert.equal(ff.getClosestScrollWrapper(div.firstElementChild as HTMLElement), div)\r\n\t\tdiv.remove()\r\n\t})\r\n\r\n\tit('scrollIntoView when content is not very high', async () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; height: 100px; overflow: auto;'\r\n\t\tdiv.innerHTML = `\r\n\t\t\t<div style=\"height: 50px;\"></div>\r\n\t\t\t<div style=\"height: 50px;\"></div>\r\n\t\t\t<div style=\"height: 50px;\"></div>\r\n\t\t\t<div style=\"height: 50px;\"></div>\r\n\t\t\t<div style=\"height: 50px;\"></div>\r\n\t\t\t<div style=\"height: 50px;\"></div>\r\n\t\t`\r\n\t\tdocument.body.append(div)\r\n\r\n\t\tff.scrollToView(div.children[3] as HTMLElement)\r\n\t\tassert.equal(div.scrollTop, 100)\r\n\r\n\t\tff.scrollToView(div.children[1] as HTMLElement)\r\n\t\tassert.equal(div.scrollTop, 50)\r\n\t\tdiv.remove()\r\n\t})\r\n\r\n\tit('scrollIntoView when content is very high', async () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; height: 100px; overflow: auto;'\r\n\t\tdiv.innerHTML = `\r\n\t\t\t<div style=\"height: 200px;\"></div>\r\n\t\t\t<div style=\"height: 200px;\"></div>\r\n\t\t\t<div style=\"height: 200px;\"></div>\r\n\t\t`\r\n\t\tdocument.body.append(div)\r\n\r\n\t\tff.scrollToView(div.lastElementChild as HTMLElement)\r\n\t\tassert.equal(div.scrollTop, 400)\r\n\r\n\t\tff.scrollToView(div.firstElementChild as HTMLElement)\r\n\t\tassert.equal(div.scrollTop, 100)\r\n\t\tdiv.remove()\r\n\t})\r\n\r\n\tit('getScrollDirection', async () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; height: 100px;'\r\n\t\tdocument.body.append(div)\r\n\r\n\t\tdiv.innerHTML = `<div style=\"width: 200px; height: 100px;\"></div>`\r\n\t\tassert.equal(ff.getScrollDirection(div), 'x')\r\n\r\n\t\tdiv.innerHTML = `<div style=\"width: 100px; height: 200px;\"></div>`\r\n\t\tassert.equal(ff.getScrollDirection(div), 'y')\r\n\r\n\t\tdiv.remove()\r\n\t})\r\n\r\n\tit('getScrollOffset', async () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; height: 100px;'\r\n\t\tdocument.body.append(div)\r\n\r\n\t\tdiv.innerHTML = `<div style=\"width: 200px; height: 100px;\"></div>`\r\n\t\tdiv.scrollLeft = 100\r\n\t\tassert.equal(ff.getScrollOffset(div.firstElementChild as HTMLElement, div, 'x'), 0)\r\n\r\n\t\tdiv.remove()\r\n\t})\r\n\r\n\tit('scrollToTop', async () => {\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'position: fixed; width: 100px; height: 100px; overflow: auto;'\r\n\t\tdiv.innerHTML = `\r\n\t\t\t<div style=\"height: 200px;\"></div>\r\n\t\t\t<div style=\"height: 200px;\"></div>\r\n\t\t\t<div style=\"height: 200px;\"></div>\r\n\t\t`\r\n\t\tdocument.body.append(div)\r\n\r\n\t\tff.scrollToTop(div.lastElementChild as HTMLElement)\r\n\t\tassert.equal(div.scrollTop, 400)\r\n\r\n\t\tff.scrollToTop(div.firstElementChild as HTMLElement)\r\n\t\tassert.equal(div.scrollTop, 0)\r\n\t\tdiv.remove()\r\n\t})\r\n})",
    "import * as ff from '../../..'\r\nconst assert = chai.assert\r\n\r\n\r\ndescribe('Test storage', () => {\r\n\tit('storage', () => {\r\n\t\tassert.equal(ff.storage.isSupported(), true)\r\n\t\tassert.equal(ff.storage.set('a', 'b'), true)\r\n\t\tassert.equal(ff.storage.get('a'), 'b')\r\n\t\tassert.equal(ff.storage.has('a'), true)\r\n\t\tassert.equal(ff.storage.delete('a'), true)\r\n\t\tassert.equal(ff.storage.has('a'), false)\r\n\t})\r\n})\r\n",
    "import * as ff from '../../..'\r\nimport * as helper from './helper'\r\nconst assert = chai.assert\r\n\r\n\r\ndescribe('Test watch', () => {\r\n\t\r\n\tit('watch immediate', async () => {\r\n\t\tlet fn = helper.fn()\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'width: 100px; height: 100px; position: fixed; left: 0; top: 0'\r\n\t\tdocument.body.append(div)\r\n\r\n\t\tlet cancelWatch = ff.watch(div, 'show', fn, true)\r\n\t\tassert.equal(fn.mock.calls.length, 1)\r\n\r\n\t\tdiv.remove()\r\n\t\tcancelWatch()\r\n\t})\r\n\r\n\tit('watch show', async () => {\r\n\t\tlet fn = helper.fn()\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'width: 100px; height: 100px; position: fixed; left: 0; top: 0; display: none'\r\n\t\tdocument.body.append(div)\r\n\r\n\t\tlet cancelWatch = ff.watch(div, 'show', fn)\r\n\t\tassert.equal(fn.mock.calls.length, 0)\r\n\t\tdiv.style.display = 'block'\r\n\r\n\t\tawait ff.sleep(100)\r\n\t\tassert.equal(fn.mock.calls.length, 1)\r\n\t\tassert.equal(fn.mock.calls[0][0], true)\r\n\r\n\t\tdiv.style.display = 'none'\r\n\t\tawait ff.sleep(100)\r\n\t\tassert.equal(fn.mock.calls.length, 2)\r\n\t\tassert.equal(fn.mock.calls[1][0], false)\r\n\r\n\t\tdiv.remove()\r\n\t\tcancelWatch()\r\n\t})\r\n\r\n\tit('watch show once', async () => {\r\n\t\tlet fn = helper.fn()\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'width: 100px; height: 100px; position: fixed; left: 0; top: 0; display: none'\r\n\t\tdocument.body.append(div)\r\n\r\n\t\tlet cancelWatch = ff.watchOnce(div, 'show', fn)\r\n\t\tassert.equal(fn.mock.calls.length, 0)\r\n\t\tdiv.style.display = 'block'\r\n\r\n\t\tawait ff.sleep(100)\r\n\t\tassert.equal(fn.mock.calls.length, 1)\r\n\t\tassert.equal(fn.mock.calls[0][0], true)\r\n\r\n\t\tdiv.style.display = 'none'\r\n\t\tawait ff.sleep(100)\r\n\t\tassert.equal(fn.mock.calls.length, 1)\r\n\r\n\t\tdiv.remove()\r\n\t\tcancelWatch()\r\n\t})\r\n\r\n\tit('watch until and trigger immediate', async () => {\r\n\t\tlet fn = helper.fn()\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'width: 100px; height: 100px; position: fixed; left: 0; top: 0'\r\n\t\tdocument.body.append(div)\r\n\r\n\t\tlet cancelWatch = ff.watchUntil(div, 'show', fn)\r\n\t\tassert.equal(fn.mock.calls.length, 1)\r\n\r\n\t\tdiv.remove()\r\n\t\tcancelWatch()\r\n\t})\r\n\r\n\tit('watch until', async () => {\r\n\t\tlet fn = helper.fn()\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'width: 100px; height: 100px; position: fixed; left: 0; top: 0; display: none'\r\n\t\tdocument.body.append(div)\r\n\r\n\t\tlet cancelWatch = ff.watchUntil(div, 'show', fn)\r\n\t\tassert.equal(fn.mock.calls.length, 0)\r\n\t\tdiv.style.display = 'block'\r\n\r\n\t\tawait ff.sleep(100)\r\n\t\tassert.equal(fn.mock.calls.length, 1)\r\n\t\tassert.equal(fn.mock.calls[0][0], true)\r\n\r\n\t\tdiv.style.display = 'none'\r\n\t\tawait ff.sleep(100)\r\n\t\tassert.equal(fn.mock.calls.length, 1)\r\n\r\n\t\tdiv.remove()\r\n\t\tcancelWatch()\r\n\t})\r\n\r\n\tit('watch hide', async () => {\r\n\t\tlet fn = helper.fn()\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'width: 100px; height: 100px; position: fixed; left: 0; top: 0;'\r\n\t\tdocument.body.append(div)\r\n\r\n\t\tlet cancelWatch = ff.watch(div, 'hide', fn)\r\n\t\tassert.equal(fn.mock.calls.length, 0)\r\n\r\n\t\tdiv.style.display = 'none'\r\n\t\tawait ff.sleep(100)\r\n\t\tassert.equal(fn.mock.calls.length, 1)\r\n\t\tassert.equal(fn.mock.calls[0][0], true)\r\n\r\n\t\tdiv.remove()\r\n\t\tcancelWatch()\r\n\t})\r\n\r\n\tit('watch inview', async () => {\r\n\t\tlet fn = helper.fn()\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'width: 100px; height: 100px; position: fixed; left: -100px; top: -100px;'\r\n\t\tdocument.body.append(div)\r\n\r\n\t\tlet cancelWatch = ff.watch(div, 'inview', fn)\r\n\t\tassert.equal(fn.mock.calls.length, 0)\r\n\r\n\t\tdiv.style.left = '0'\r\n\t\tdiv.style.top = '0'\r\n\t\tawait ff.sleep(100)\r\n\t\tassert.equal(fn.mock.calls.length, 1)\r\n\t\tassert.equal(fn.mock.calls[0][0], true)\r\n\r\n\t\tdiv.remove()\r\n\t\tcancelWatch()\r\n\t})\r\n\r\n\tit('watch outview', async () => {\r\n\t\tlet fn = helper.fn()\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'width: 100px; height: 100px; position: fixed; left: 0; top: 0;'\r\n\t\tdocument.body.append(div)\r\n\r\n\t\tlet cancelWatch = ff.watch(div, 'outview', fn)\r\n\t\tassert.equal(fn.mock.calls.length, 0)\r\n\r\n\t\tdiv.style.left = '-100px'\r\n\t\tdiv.style.top = '-100px'\r\n\t\tawait ff.sleep(100)\r\n\t\tassert.equal(fn.mock.calls.length, 1)\r\n\t\tassert.equal(fn.mock.calls[0][0], true)\r\n\r\n\t\tdiv.remove()\r\n\t\tcancelWatch()\r\n\t})\r\n\r\n\tit('watch size', async () => {\r\n\t\tlet fn = helper.fn()\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'width: 100px; height: 100px; position: fixed; left: 0; top: 0;'\r\n\t\tdocument.body.append(div)\r\n\r\n\t\tlet cancelWatch = ff.watch(div, 'size', fn)\r\n\t\tassert.equal(fn.mock.calls.length, 0)\r\n\r\n\t\tdiv.style.width = '200px'\r\n\t\tawait ff.sleep(100)\r\n\t\tassert.equal(fn.mock.calls.length, 1)\r\n\t\tassert.deepEqual(fn.mock.calls[0][0], {width: 200, height: 100})\r\n\r\n\t\tdiv.style.height = '200px'\r\n\t\tawait ff.sleep(100)\r\n\t\tassert.equal(fn.mock.calls.length, 2)\r\n\t\tassert.deepEqual(fn.mock.calls[1][0], {width: 200, height: 200})\r\n\r\n\t\tdiv.remove()\r\n\t\tcancelWatch()\r\n\t})\r\n\r\n\tit('watch rect', async () => {\r\n\t\tlet fn = helper.fn()\r\n\t\tlet div = document.createElement('div')\r\n\t\tdiv.style.cssText = 'width: 100px; height: 100px; position: fixed; left: 0; top: 0;'\r\n\t\tdocument.body.append(div)\r\n\r\n\t\tlet cancelWatch = ff.watch(div, 'rect', fn)\r\n\t\tassert.equal(fn.mock.calls.length, 0)\r\n\r\n\t\tdiv.style.width = '200px'\r\n\t\tawait ff.sleep(100)\r\n\t\tassert.equal(fn.mock.calls.length, 1)\r\n\t\tassert.deepEqual(fn.mock.calls[0][0].width, 200)\r\n\r\n\t\tdiv.style.height = '200px'\r\n\t\tawait ff.sleep(100)\r\n\t\tassert.equal(fn.mock.calls.length, 2)\r\n\t\tassert.deepEqual(fn.mock.calls[1][0].height, 200)\r\n\r\n\t\tdiv.style.left = '100px'\r\n\t\tawait ff.sleep(100)\r\n\t\tassert.equal(fn.mock.calls.length, 3)\r\n\t\tassert.deepEqual(fn.mock.calls[2][0].left, 100)\r\n\r\n\t\tdiv.style.top = '100px'\r\n\t\tawait ff.sleep(100)\r\n\t\tassert.equal(fn.mock.calls.length, 4)\r\n\t\tassert.deepEqual(fn.mock.calls[3][0].top, 100)\r\n\r\n\t\tdiv.remove()\r\n\t\tcancelWatch()\r\n\t})\r\n})"
  ]
}